{
  "address": "0xDA5292947D46A50f8125E9FCcE4242A61B096fd2",
  "abi": [
    {
      "inputs": [],
      "name": "AlreadyCancelled",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "AtLeastOneOptionRequired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BTDIsNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BTDWithoutBTDType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BothBuyTwapAndBTD",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BothSellTwapAndSTR",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BothStableAndInvestAmountProvided",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BtdValueGreaterThan100",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyAndSellAtMisorder",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyDCANotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyDCAUnitWithoutBuyDCAValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyDCAValueRangeIsNotValid",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyDCAWithoutBuy",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyDCAWithoutBuyDCAUnit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyNeverExecute",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuySellCurrentPrice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyTwapNotSelected",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "BuyTwapTimeUnitNotSelected",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "DCAValueShouldBeLessThanIntitialAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "DCAValueWithoutDCA",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FeedNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FloorNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FloorPercentageNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FloorValueGreaterThanBuyValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FloorValueGreaterThanSellValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GracePeriodNotOver",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "HighSellValueIsChosenWithoutSeLLDCA",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidBuyType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidFloorType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidHighSellValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidImpact",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidInvestToken",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidNonce",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidPrice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidSellType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidSellValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidSigner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidStableAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidStableToken",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvestAmountMustBeProvided",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoAmountProvided",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NothingToUpdate",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyOwnerCanCancelStrategies",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyOwnerCanUpdateStrategies",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OrphandStrategy",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PercentageNotInRange",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PriceExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "STRIsNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellDCANotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellDCAUnitWithoutSellDCAValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellDCAValueRangeIsNotValid",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellDCAWithoutSell",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellNotSelected",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellPercentageNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellTwapNotSelected",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellTwapOrStrWithoutSellDCAUnit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SellTwapTimeUnitNotSelected",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SequencerDown",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "StrValueGreaterThan100",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "StrWithoutStrType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "StrategyIsNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TokensMustDiffer",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TypeChosenWithoutValue",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "strategyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "investTokenPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "stableTokenPrice",
          "type": "uint256"
        }
      ],
      "name": "StrategyCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "strategyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "_investToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_investAmount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "_stableToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_stableAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_impact",
              "type": "uint256"
            },
            {
              "internalType": "enum FloorLegType",
              "name": "_floorType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_floorValue",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "_liquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_cancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "enum BuyLegType",
              "name": "_buyType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_btdValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_btdType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_buyDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "enum SellLegType",
              "name": "_sellType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_minimumProfit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_strValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_strType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_sellDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "_completeOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_buy",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct StrategyParameters",
          "name": "parameter",
          "type": "tuple"
        },
        {
          "indexed": false,
          "internalType": "uint80",
          "name": "investRoundId",
          "type": "uint80"
        },
        {
          "indexed": false,
          "internalType": "uint80",
          "name": "stableRoundId",
          "type": "uint80"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "budget",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "StrategyCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "strategyId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "_investToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_investAmount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "_stableToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_stableAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_impact",
              "type": "uint256"
            },
            {
              "internalType": "enum FloorLegType",
              "name": "_floorType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_floorValue",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "_liquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_cancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "enum BuyLegType",
              "name": "_buyType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_btdValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_btdType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_buyDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "enum SellLegType",
              "name": "_sellType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_minimumProfit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_strValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_strType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_sellDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "_completeOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_buy",
              "type": "bool"
            }
          ],
          "indexed": false,
          "internalType": "struct StrategyParameters",
          "name": "updateStruct",
          "type": "tuple"
        }
      ],
      "name": "StrategyUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "cancelStrategy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "cancelStrategyOnBehalf",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "_investToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_investAmount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "_stableToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_stableAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_impact",
              "type": "uint256"
            },
            {
              "internalType": "enum FloorLegType",
              "name": "_floorType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_floorValue",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "_liquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_cancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "enum BuyLegType",
              "name": "_buyType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_btdValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_btdType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_buyDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "enum SellLegType",
              "name": "_sellType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_minimumProfit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_strValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_strType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_sellDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "_completeOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_buy",
              "type": "bool"
            }
          ],
          "internalType": "struct StrategyParameters",
          "name": "_parameter",
          "type": "tuple"
        }
      ],
      "name": "createStrategy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "spender",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "value",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deadline",
              "type": "uint256"
            },
            {
              "internalType": "uint8",
              "name": "v",
              "type": "uint8"
            },
            {
              "internalType": "bytes32",
              "name": "r",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "s",
              "type": "bytes32"
            }
          ],
          "internalType": "struct StrategyFacet.Permit[]",
          "name": "permits",
          "type": "tuple[]"
        },
        {
          "components": [
            {
              "internalType": "address",
              "name": "_investToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_investAmount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "_stableToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_stableAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_impact",
              "type": "uint256"
            },
            {
              "internalType": "enum FloorLegType",
              "name": "_floorType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_floorValue",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "_liquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_cancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "enum BuyLegType",
              "name": "_buyType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_btdValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_btdType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_buyDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "enum SellLegType",
              "name": "_sellType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_minimumProfit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_strValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_strType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_sellDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "_completeOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_buy",
              "type": "bool"
            }
          ],
          "internalType": "struct StrategyParameters",
          "name": "_parameter",
          "type": "tuple"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "createStrategyOnBehalf",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "getMessageHashToCancel",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "_investToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_investAmount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "_stableToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "_stableAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_impact",
              "type": "uint256"
            },
            {
              "internalType": "enum FloorLegType",
              "name": "_floorType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_floorValue",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "_liquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_cancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "_minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "enum BuyLegType",
              "name": "_buyType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_btdValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_btdType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_buyDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "enum SellLegType",
              "name": "_sellType",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_minimumProfit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_strValue",
              "type": "uint256"
            },
            {
              "internalType": "enum DIP_SPIKE",
              "name": "_strType",
              "type": "uint8"
            },
            {
              "internalType": "enum DCA_UNIT",
              "name": "_sellDCAUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "_sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "_sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "_sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "_completeOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "_current_price_buy",
              "type": "bool"
            }
          ],
          "internalType": "struct StrategyParameters",
          "name": "_parameter",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "getMessageHashToCreate",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "btdValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "floorValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "toggleCompleteOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleLiquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleCancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "impact",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "current_price_buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minimumProfit",
              "type": "uint256"
            }
          ],
          "internalType": "struct UpdateStruct",
          "name": "updateStruct",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "getMessageHashToUpdate",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getStrategy",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "_investToken",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "_investAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "_stableToken",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "_stableAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_impact",
                  "type": "uint256"
                },
                {
                  "internalType": "enum FloorLegType",
                  "name": "_floorType",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_floorValue",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "_liquidateOnFloor",
                  "type": "bool"
                },
                {
                  "internalType": "bool",
                  "name": "_cancelOnFloor",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "_minimumLoss",
                  "type": "uint256"
                },
                {
                  "internalType": "enum BuyLegType",
                  "name": "_buyType",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_buyValue",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_buyTwapTime",
                  "type": "uint256"
                },
                {
                  "internalType": "enum TimeUnit",
                  "name": "_buyTwapTimeUnit",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_btdValue",
                  "type": "uint256"
                },
                {
                  "internalType": "enum DIP_SPIKE",
                  "name": "_btdType",
                  "type": "uint8"
                },
                {
                  "internalType": "enum DCA_UNIT",
                  "name": "_buyDCAUnit",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_buyDCAValue",
                  "type": "uint256"
                },
                {
                  "internalType": "enum SellLegType",
                  "name": "_sellType",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_sellValue",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_highSellValue",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_minimumProfit",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_strValue",
                  "type": "uint256"
                },
                {
                  "internalType": "enum DIP_SPIKE",
                  "name": "_strType",
                  "type": "uint8"
                },
                {
                  "internalType": "enum DCA_UNIT",
                  "name": "_sellDCAUnit",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "_sellDCAValue",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "_sellTwapTime",
                  "type": "uint256"
                },
                {
                  "internalType": "enum TimeUnit",
                  "name": "_sellTwapTimeUnit",
                  "type": "uint8"
                },
                {
                  "internalType": "bool",
                  "name": "_completeOnSell",
                  "type": "bool"
                },
                {
                  "internalType": "bool",
                  "name": "_current_price_sell",
                  "type": "bool"
                },
                {
                  "internalType": "bool",
                  "name": "_current_price_buy",
                  "type": "bool"
                }
              ],
              "internalType": "struct StrategyParameters",
              "name": "parameters",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "sellPercentageAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyPercentageAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellPercentageTotalAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyPercentageTotalAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellTwapExecutedAt",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyTwapExecutedAt",
              "type": "uint256"
            },
            {
              "internalType": "uint80",
              "name": "investRoundIdForBTD",
              "type": "uint80"
            },
            {
              "internalType": "uint80",
              "name": "stableRoundIdForBTD",
              "type": "uint80"
            },
            {
              "internalType": "uint80",
              "name": "investRoundIdForSTR",
              "type": "uint80"
            },
            {
              "internalType": "uint80",
              "name": "stableRoundIdForSTR",
              "type": "uint80"
            },
            {
              "internalType": "uint256",
              "name": "investPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "profit",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "budget",
              "type": "uint256"
            },
            {
              "internalType": "enum Status",
              "name": "status",
              "type": "uint8"
            }
          ],
          "internalType": "struct Strategy",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextStrategyId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "strategyId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "btdValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "floorValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "toggleCompleteOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleLiquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleCancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "impact",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "current_price_buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minimumProfit",
              "type": "uint256"
            }
          ],
          "internalType": "struct UpdateStruct",
          "name": "updateStruct",
          "type": "tuple"
        }
      ],
      "name": "updateStrategy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "strategyId",
          "type": "uint256"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "sellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "btdValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "floorValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "highSellValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "buyTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "buyTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "buyDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellDCAValue",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sellTwapTime",
              "type": "uint256"
            },
            {
              "internalType": "enum TimeUnit",
              "name": "sellTwapTimeUnit",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "toggleCompleteOnSell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleLiquidateOnFloor",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "toggleCancelOnFloor",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "impact",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "current_price_sell",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "current_price_buy",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "minimumLoss",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minimumProfit",
              "type": "uint256"
            }
          ],
          "internalType": "struct UpdateStruct",
          "name": "updateStruct",
          "type": "tuple"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "updateStrategyOnBehalf",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x3b34fe08144024e92e48c82e889f758353100cf3e3c88f3a7f0ebdd666adcd1f",
  "receipt": {
    "to": null,
    "from": "0x1223a30278B980A2b04c51C56E045a0D9E976851",
    "contractAddress": "0xDA5292947D46A50f8125E9FCcE4242A61B096fd2",
    "transactionIndex": 138,
    "gasUsed": "4443140",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000004000000000000000000000000000000000000000800000000000000000000100000000000000000100000000000000000000000000000000000000000080000000200000000000000000000020000000000000000000020000000000000000000000000000200000000000000000000000000000000000000000000000000000000000004000000000000000000021000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0x8469483ce81a2b3c8c7769dff7fa9b641c8466b406b5ab22c1d5df1719400cbd",
    "transactionHash": "0x3b34fe08144024e92e48c82e889f758353100cf3e3c88f3a7f0ebdd666adcd1f",
    "logs": [
      {
        "transactionIndex": 138,
        "blockNumber": 51091452,
        "transactionHash": "0x3b34fe08144024e92e48c82e889f758353100cf3e3c88f3a7f0ebdd666adcd1f",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x0000000000000000000000001223a30278b980a2b04c51c56e045a0d9e976851",
          "0x00000000000000000000000009385a960a2e0b6b4516d341534da92cb2a50085"
        ],
        "data": "0x00000000000000000000000000000000000000000000000002e4a11a43637dfc00000000000000000000000000000000000000000000000292476d85208e815b000000000000000000000000000000000000000000000a049aadfee95e63334c0000000000000000000000000000000000000000000000028f62cc6add2b035f000000000000000000000000000000000000000000000a049d92a003a1c6b148",
        "logIndex": 225,
        "blockHash": "0x8469483ce81a2b3c8c7769dff7fa9b641c8466b406b5ab22c1d5df1719400cbd"
      }
    ],
    "blockNumber": 51091452,
    "cumulativeGasUsed": "17168017",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "ebfde796c2155f1121103a9310ece588",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"AlreadyCancelled\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AtLeastOneOptionRequired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BTDIsNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BTDWithoutBTDType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BothBuyTwapAndBTD\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BothSellTwapAndSTR\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BothStableAndInvestAmountProvided\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BtdValueGreaterThan100\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyAndSellAtMisorder\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyDCANotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyDCAUnitWithoutBuyDCAValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyDCAValueRangeIsNotValid\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyDCAWithoutBuy\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyDCAWithoutBuyDCAUnit\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyNeverExecute\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuySellCurrentPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyTwapNotSelected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BuyTwapTimeUnitNotSelected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DCAValueShouldBeLessThanIntitialAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DCAValueWithoutDCA\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FeedNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FloorNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FloorPercentageNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FloorValueGreaterThanBuyValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FloorValueGreaterThanSellValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GracePeriodNotOver\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"HighSellValueIsChosenWithoutSeLLDCA\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidBuyType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidFloorType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidHighSellValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidImpact\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInvestToken\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidNonce\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSellType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSellValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSigner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidStableAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidStableToken\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvestAmountMustBeProvided\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoAmountProvided\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NothingToUpdate\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyOwnerCanCancelStrategies\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyOwnerCanUpdateStrategies\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OrphandStrategy\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PercentageNotInRange\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PriceExpired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"STRIsNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellDCANotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellDCAUnitWithoutSellDCAValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellDCAValueRangeIsNotValid\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellDCAWithoutSell\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellNotSelected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellPercentageNotSet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellTwapNotSelected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellTwapOrStrWithoutSellDCAUnit\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SellTwapTimeUnitNotSelected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SequencerDown\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StrValueGreaterThan100\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StrWithoutStrType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StrategyIsNotActive\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TokensMustDiffer\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TypeChosenWithoutValue\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"strategyId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"investTokenPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"stableTokenPrice\",\"type\":\"uint256\"}],\"name\":\"StrategyCancelled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"strategyId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct StrategyParameters\",\"name\":\"parameter\",\"type\":\"tuple\"},{\"indexed\":false,\"internalType\":\"uint80\",\"name\":\"investRoundId\",\"type\":\"uint80\"},{\"indexed\":false,\"internalType\":\"uint80\",\"name\":\"stableRoundId\",\"type\":\"uint80\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"budget\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"StrategyCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"strategyId\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct StrategyParameters\",\"name\":\"updateStruct\",\"type\":\"tuple\"}],\"name\":\"StrategyUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"cancelStrategy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"cancelStrategyOnBehalf\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"internalType\":\"struct StrategyParameters\",\"name\":\"_parameter\",\"type\":\"tuple\"}],\"name\":\"createStrategy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"internalType\":\"struct StrategyFacet.Permit[]\",\"name\":\"permits\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"internalType\":\"struct StrategyParameters\",\"name\":\"_parameter\",\"type\":\"tuple\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"createStrategyOnBehalf\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getMessageHashToCancel\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"internalType\":\"struct StrategyParameters\",\"name\":\"_parameter\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getMessageHashToCreate\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"btdValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"floorValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"toggleCompleteOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleLiquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleCancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"impact\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"current_price_buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumProfit\",\"type\":\"uint256\"}],\"internalType\":\"struct UpdateStruct\",\"name\":\"updateStruct\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getMessageHashToUpdate\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"}],\"name\":\"getStrategy\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"_investToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_investAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_stableToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_impact\",\"type\":\"uint256\"},{\"internalType\":\"enum FloorLegType\",\"name\":\"_floorType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_floorValue\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"_liquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_cancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"_minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"enum BuyLegType\",\"name\":\"_buyType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_btdValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_btdType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_buyDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"enum SellLegType\",\"name\":\"_sellType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_minimumProfit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_strValue\",\"type\":\"uint256\"},{\"internalType\":\"enum DIP_SPIKE\",\"name\":\"_strType\",\"type\":\"uint8\"},{\"internalType\":\"enum DCA_UNIT\",\"name\":\"_sellDCAUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"_sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"_completeOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"_current_price_buy\",\"type\":\"bool\"}],\"internalType\":\"struct StrategyParameters\",\"name\":\"parameters\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"sellPercentageAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyPercentageAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellPercentageTotalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyPercentageTotalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellTwapExecutedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyTwapExecutedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint80\",\"name\":\"investRoundIdForBTD\",\"type\":\"uint80\"},{\"internalType\":\"uint80\",\"name\":\"stableRoundIdForBTD\",\"type\":\"uint80\"},{\"internalType\":\"uint80\",\"name\":\"investRoundIdForSTR\",\"type\":\"uint80\"},{\"internalType\":\"uint80\",\"name\":\"stableRoundIdForSTR\",\"type\":\"uint80\"},{\"internalType\":\"uint256\",\"name\":\"investPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"profit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"budget\",\"type\":\"uint256\"},{\"internalType\":\"enum Status\",\"name\":\"status\",\"type\":\"uint8\"}],\"internalType\":\"struct Strategy\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nextStrategyId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"strategyId\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"btdValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"floorValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"toggleCompleteOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleLiquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleCancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"impact\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"current_price_buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumProfit\",\"type\":\"uint256\"}],\"internalType\":\"struct UpdateStruct\",\"name\":\"updateStruct\",\"type\":\"tuple\"}],\"name\":\"updateStrategy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"strategyId\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"sellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"btdValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"floorValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"highSellValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"buyTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"buyTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"buyDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellDCAValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellTwapTime\",\"type\":\"uint256\"},{\"internalType\":\"enum TimeUnit\",\"name\":\"sellTwapTimeUnit\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"toggleCompleteOnSell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleLiquidateOnFloor\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"toggleCancelOnFloor\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"impact\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"current_price_sell\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"current_price_buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"minimumLoss\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minimumProfit\",\"type\":\"uint256\"}],\"internalType\":\"struct UpdateStruct\",\"name\":\"updateStruct\",\"type\":\"tuple\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"updateStrategyOnBehalf\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"StrategyFacet is one of the facets of the system, dedicated to strategy management.\",\"events\":{\"StrategyCancelled(uint256,uint256,uint256)\":{\"params\":{\"investTokenPrice\":\"The price of the invest token in USD.\",\"stableTokenPrice\":\"The price of the stable token in USD.\",\"strategyId\":\"The unique ID of the cancelled strategy.\"}},\"StrategyCreated(uint256,address,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint80,uint80,uint256,uint256)\":{\"params\":{\"budget\":\"total budget of the user in the stable token\",\"investRoundId\":\"Round ID for the invest token price when the strategy is created.\",\"parameter\":\"The strategy parameter including settings for buying and selling.\",\"price\":\"price of the invest token w.r.t. the stable when strategy was created\",\"stableRoundId\":\"Round ID for the stable token price when the strategy is created.\",\"strategyId\":\"The unique ID of the strategy.\",\"user\":\"address of the user whose  for whose strategy is created\"}},\"StrategyUpdated(uint256,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))\":{\"params\":{\"strategyId\":\"The unique ID of the strategy.\",\"updateStruct\":\"updated parameters of the strategy\"}}},\"kind\":\"dev\",\"methods\":{\"cancelStrategy(uint256)\":{\"details\":\"This function allows users to cancel a trade execution strategy based on its unique ID.      When cancelled, the strategy's status is updated to \\\"CANCELLED.\\\"\",\"params\":{\"id\":\"The unique ID of the strategy to cancel.\"}},\"cancelStrategyOnBehalf(uint256,uint256,bytes,address)\":{\"details\":\"This function allows users to cancel a trade execution strategy based on its unique ID.      When cancelled, the strategy's status is updated to \\\"CANCELLED.\\\"\",\"params\":{\"id\":\"The unique ID of the strategy to cancel.\"}},\"createStrategy((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))\":{\"details\":\"This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.      If the parameters do not meet the criteria, an error is thrown.\",\"params\":{\"_parameter\":\"The strategy parameters defining the behavior and conditions of the strategy.\"}},\"createStrategyOnBehalf((address,address,address,uint256,uint256,uint8,bytes32,bytes32)[],(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),address,uint256,bytes)\":{\"details\":\"This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.      If the parameters do not meet the criteria, an error is thrown.\",\"params\":{\"_parameter\":\"The strategy parameters defining the behavior and conditions of the strategy.\",\"account\":\"The address of the user who created the strategy.\",\"nonce\":\"The nonce of the user who created the strategy.\",\"permits\":\"The array of `Permit` structs containing the parameters for the permit function.\",\"signature\":\"The signature of the user who created the strategy.\"}},\"getMessageHashToCancel(uint256,uint256,address)\":{\"details\":\"This function returns the message hash that must be signed by the user in order to cancel a strategy on behalf of another user.\",\"params\":{\"account\":\"The address of the user who created the strategy.\",\"id\":\"The strategy id\",\"nonce\":\"The nonce of the user who created the strategy.\"},\"returns\":{\"_0\":\"The message hash for the given strategy.\"}},\"getMessageHashToCreate((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint256,address)\":{\"details\":\"This function returns the message hash that must be signed by the user in order to create a strategy on behalf of another user.\",\"params\":{\"_parameter\":\"The strategy parameters defining the behavior and conditions of the strategy.\",\"account\":\"The address of the user who created the strategy.\",\"nonce\":\"The nonce of the user who created the strategy.\"},\"returns\":{\"_0\":\"The message hash for the given strategy.\"}},\"getMessageHashToUpdate(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),uint256,address)\":{\"details\":\"This function returns the message hash that must be signed by the user in order to update a strategy on behalf of another user.\",\"params\":{\"account\":\"The address of the user who created the strategy.\",\"id\":\"The strategy id\",\"nonce\":\"The nonce of the user who created the strategy.\",\"updateStruct\":\"updated parameters of the strategy\"},\"returns\":{\"_0\":\"The message hash for the given strategy.\"}},\"getStrategy(uint256)\":{\"details\":\"This function allows users to query and retrieve information about a trade execution strategy      based on its unique ID.\",\"params\":{\"id\":\"The unique ID of the strategy to retrieve.\"},\"returns\":{\"_0\":\"A `Strategy` struct containing details of the specified strategy.\"}},\"nextStrategyId()\":{\"details\":\"This function returns the unique ID that will be assigned to the next created strategy.\",\"returns\":{\"_0\":\"The next available strategy ID.\"}},\"updateStrategy(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256))\":{\"details\":\"Update an existing strategy with new parameters.\",\"params\":{\"strategyId\":\"The unique identifier of the strategy to update.\",\"updateStruct\":\"A struct containing the updated parameters for the strategy.\"}},\"updateStrategyOnBehalf(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),address,uint256,bytes)\":{\"details\":\"Update an existing strategy with new parameters on behalf of another user.\",\"params\":{\"account\":\"The address of the user who created the strategy.\",\"nonce\":\"The nonce of the user who created the strategy.\",\"signature\":\"The signature of the user who created the strategy.\",\"strategyId\":\"The unique identifier of the strategy to update.\",\"updateStruct\":\"A struct containing the updated parameters for the strategy.\"}}},\"title\":\"StrategyFacet\",\"version\":1},\"userdoc\":{\"events\":{\"StrategyCancelled(uint256,uint256,uint256)\":{\"notice\":\"Emitted when a trade execution strategy is cancelled.\"},\"StrategyCreated(uint256,address,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint80,uint80,uint256,uint256)\":{\"notice\":\"Emitted when a new trading strategy is created.\"},\"StrategyUpdated(uint256,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))\":{\"notice\":\"Emitted when a strategy is updated.\"}},\"kind\":\"user\",\"methods\":{\"cancelStrategy(uint256)\":{\"notice\":\"Cancel a trade execution strategy.\"},\"cancelStrategyOnBehalf(uint256,uint256,bytes,address)\":{\"notice\":\"Cancel a trade execution strategy on behalf of another user.\"},\"createStrategy((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))\":{\"notice\":\"Create a new trade execution strategy based on the provided parameters.\"},\"createStrategyOnBehalf((address,address,address,uint256,uint256,uint8,bytes32,bytes32)[],(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),address,uint256,bytes)\":{\"notice\":\"Create a new trade execution strategy based on the provided parameters on behalf of another user.\"},\"getMessageHashToCancel(uint256,uint256,address)\":{\"notice\":\"Get the message hash for a given strategy to cancel.\"},\"getMessageHashToCreate((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint256,address)\":{\"notice\":\"Get the message hash for a given strategy to create it.\"},\"getMessageHashToUpdate(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),uint256,address)\":{\"notice\":\"Get the message hash for a given strategy to update it.\"},\"getStrategy(uint256)\":{\"notice\":\"Retrieve the details of a trade execution strategy.\"},\"nextStrategyId()\":{\"notice\":\"Get the next available strategy ID.\"}},\"notice\":\"This contract handles the creation, retrieval, and cancellation of strategies. Strategies define specific trade execution conditions and actions.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/facets/StrategyFacet.sol\":\"StrategyFacet\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@chainlink/contracts/src/v0.8/Denominations.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nlibrary Denominations {\\n  address public constant ETH = 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE;\\n  address public constant BTC = 0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB;\\n\\n  // Fiat currencies follow https://en.wikipedia.org/wiki/ISO_4217\\n  address public constant USD = address(840);\\n  address public constant GBP = address(826);\\n  address public constant EUR = address(978);\\n  address public constant JPY = address(392);\\n  address public constant KRW = address(410);\\n  address public constant CNY = address(156);\\n  address public constant AUD = address(36);\\n  address public constant CAD = address(124);\\n  address public constant CHF = address(756);\\n  address public constant ARS = address(32);\\n  address public constant PHP = address(608);\\n  address public constant NZD = address(554);\\n  address public constant SGD = address(702);\\n  address public constant NGN = address(566);\\n  address public constant ZAR = address(710);\\n  address public constant RUB = address(643);\\n  address public constant INR = address(356);\\n  address public constant BRL = address(986);\\n}\\n\",\"keccak256\":\"0xee406990d671c95993762c3ee15c77987ee35c3682357c419ff73747a728fc4d\",\"license\":\"MIT\"},\"@chainlink/contracts/src/v0.8/interfaces/AggregatorInterface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorInterface {\\n  function latestAnswer() external view returns (int256);\\n\\n  function latestTimestamp() external view returns (uint256);\\n\\n  function latestRound() external view returns (uint256);\\n\\n  function getAnswer(uint256 roundId) external view returns (int256);\\n\\n  function getTimestamp(uint256 roundId) external view returns (uint256);\\n\\n  event AnswerUpdated(int256 indexed current, uint256 indexed roundId, uint256 updatedAt);\\n\\n  event NewRound(uint256 indexed roundId, address indexed startedBy, uint256 startedAt);\\n}\\n\",\"keccak256\":\"0xb496651006b9a2a07920ffe116928b11e2a6458e21361cecca51409522488ca7\",\"license\":\"MIT\"},\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV2V3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nimport \\\"./AggregatorInterface.sol\\\";\\nimport \\\"./AggregatorV3Interface.sol\\\";\\n\\ninterface AggregatorV2V3Interface is AggregatorInterface, AggregatorV3Interface {}\\n\",\"keccak256\":\"0x4a7757ff7bbafe044cd49c2a45c7c18ec50eff7c7af6869face5e1e9cda976f2\",\"license\":\"MIT\"},\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function getRoundData(uint80 _roundId)\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (\\n      uint80 roundId,\\n      int256 answer,\\n      uint256 startedAt,\\n      uint256 updatedAt,\\n      uint80 answeredInRound\\n    );\\n}\\n\",\"keccak256\":\"0x6e6e4b0835904509406b070ee173b5bc8f677c19421b76be38aea3b1b3d30846\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (token/ERC20/extensions/IERC20Metadata.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC20.sol\\\";\\n\\n/**\\n * @dev Interface for the optional metadata functions from the ERC20 standard.\\n *\\n * _Available since v4.1._\\n */\\ninterface IERC20Metadata is IERC20 {\\n    /**\\n     * @dev Returns the name of the token.\\n     */\\n    function name() external view returns (string memory);\\n\\n    /**\\n     * @dev Returns the symbol of the token.\\n     */\\n    function symbol() external view returns (string memory);\\n\\n    /**\\n     * @dev Returns the decimals places of the token.\\n     */\\n    function decimals() external view returns (uint8);\\n}\\n\",\"keccak256\":\"0x8de418a5503946cabe331f35fe242d3201a73f67f77aaeb7110acb1f30423aca\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/extensions/IERC20Permit.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 Permit extension allowing approvals to be made via signatures, as defined in\\n * https://eips.ethereum.org/EIPS/eip-2612[EIP-2612].\\n *\\n * Adds the {permit} method, which can be used to change an account's ERC20 allowance (see {IERC20-allowance}) by\\n * presenting a message signed by the account. By not relying on {IERC20-approve}, the token holder account doesn't\\n * need to send a transaction, and thus is not required to hold Ether at all.\\n */\\ninterface IERC20Permit {\\n    /**\\n     * @dev Sets `value` as the allowance of `spender` over ``owner``'s tokens,\\n     * given ``owner``'s signed approval.\\n     *\\n     * IMPORTANT: The same issues {IERC20-approve} has related to transaction\\n     * ordering also apply here.\\n     *\\n     * Emits an {Approval} event.\\n     *\\n     * Requirements:\\n     *\\n     * - `spender` cannot be the zero address.\\n     * - `deadline` must be a timestamp in the future.\\n     * - `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`\\n     * over the EIP712-formatted function arguments.\\n     * - the signature must use ``owner``'s current nonce (see {nonces}).\\n     *\\n     * For more information on the signature format, see the\\n     * https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP\\n     * section].\\n     */\\n    function permit(\\n        address owner,\\n        address spender,\\n        uint256 value,\\n        uint256 deadline,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) external;\\n\\n    /**\\n     * @dev Returns the current nonce for `owner`. This value must be\\n     * included whenever a signature is generated for {permit}.\\n     *\\n     * Every successful call to {permit} increases ``owner``'s nonce by one. This\\n     * prevents a signature from being used multiple times.\\n     */\\n    function nonces(address owner) external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the domain separator used in the encoding of the signature for {permit}, as defined by {EIP712}.\\n     */\\n    // solhint-disable-next-line func-name-mixedcase\\n    function DOMAIN_SEPARATOR() external view returns (bytes32);\\n}\\n\",\"keccak256\":\"0xec63854014a5b4f2b3290ab9103a21bdf902a508d0f41a8573fea49e98bf571a\",\"license\":\"MIT\"},\"contracts/AppStorage.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nenum ReentrancyStatus {\\n    NOT_ENTERED,\\n    ENTERED\\n}\\n\\n/**\\n * @notice The `Status` enum represents the possible statuses of a trading strategy.\\n * @dev This enum defines three status options that describe the state of a strategy:\\n *      - ACTIVE: The strategy is currently active and operational.\\n *      - CANCELLED: The strategy has been cancelled and is no longer in effect.\\n *      - COMPLETED: The strategy has been successfully completed.\\n */\\nenum Status {\\n    ACTIVE, // The strategy is currently active.\\n    CANCELLED, // The strategy has been cancelled.\\n    COMPLETED // The strategy has been successfully completed.\\n}\\n\\n/**\\n * @notice The `FloorLegType` enum defines the types of floor price legs for trading strategies.\\n * @dev This enum enumerates three possible types of floor price legs that can be associated with a strategy:\\n *      - NO_TYPE: No specific floor price leg is defined.\\n *      - LIMIT_PRICE: The floor price is set as a specific limit price.\\n *      - DECREASE_BY: The floor price is determined by decreasing the current price by a certain amount.\\n */\\nenum FloorLegType {\\n    NO_TYPE, // No specific floor price leg is defined.\\n    LIMIT_PRICE, // The floor price is set as a specific limit price.\\n    DECREASE_BY // The floor price is determined by decreasing the current price by a certain amount.\\n}\\n/**\\n * @notice The `BuyLegType` enum defines the types of buy legs for trading strategies.\\n * @dev This enum enumerates two possible types of buy legs that can be associated with a strategy:\\n *      - NO_TYPE: No specific buy leg is defined.\\n *      - LIMIT_PRICE: The buy leg is set as a specific limit price.\\n */\\nenum BuyLegType {\\n    NO_TYPE, // No specific buy leg is defined.\\n    LIMIT_PRICE // The buy leg is set as a specific limit price.\\n}\\n\\n/**\\n * @notice The `SellLegType` enum defines the types of sell legs for trading strategies.\\n * @dev This enum enumerates three possible types of sell legs that can be associated with a strategy:\\n *      - NO_TYPE: No specific sell leg is defined.\\n *      - LIMIT_PRICE: The sell leg is set as a specific limit price.\\n *      - INCREASE_BY: The sell leg is determined by increasing the current price by a certain amount.\\n */\\nenum SellLegType {\\n    NO_TYPE, // No specific sell leg is defined.\\n    LIMIT_PRICE, // The sell leg is set as a specific limit price.\\n    INCREASE_BY // The sell leg is determined by increasing the current price by a certain amount.\\n}\\n\\n/**\\n * @notice The `DIP_SPIKE` enum defines the types of dip and spike conditions for trading strategies.\\n * @dev This enum enumerates five possible types of dip and spike conditions that can be associated with a strategy:\\n *      - NO_SPIKE: No specific dip or spike condition is defined.\\n *      - DECREASE_BY: The condition is based on a decrease in price by a certain percentage.\\n *      - INCREASE_BY: The condition is based on an increase in price by a certain percentage.\\n *      - FIXED_INCREASE: The condition is based on a fixed increase in price.\\n *      - FIXED_DECREASE: The condition is based on a fixed decrease in price.\\n */\\nenum DIP_SPIKE {\\n    NO_SPIKE, // No specific dip or spike condition is defined.\\n    DECREASE_BY, // The condition is based on a decrease in price by a certain percentage.\\n    INCREASE_BY, // The condition is based on an increase in price by a certain percentage.\\n    FIXED_INCREASE, // The condition is based on a fixed increase in price.\\n    FIXED_DECREASE // The condition is based on a fixed decrease in price.\\n}\\n\\n/**\\n * @notice The `DCA_UNIT` enum defines the units for Dollar-Cost Averaging (DCA) in trading strategies.\\n * @dev This enum enumerates three possible units for DCA that can be associated with a strategy:\\n *      - NO_UNIT: No specific DCA unit is defined.\\n *      - PERCENTAGE: DCA is specified as a percentage of assets.\\n *      - FIXED: DCA is specified as a fixed amount.\\n */\\nenum DCA_UNIT {\\n    NO_UNIT, // No specific DCA unit is defined.\\n    PERCENTAGE, // DCA is specified as a percentage of assets.\\n    FIXED // DCA is specified as a fixed amount.\\n}\\n\\n/**\\n * @notice The `TimeUnit` enum defines the units of time for time-related settings in trading strategies.\\n * @dev This enum enumerates three possible time units that can be used in trading strategies:\\n *      - NO_UNIT: No specific time unit is defined.\\n *      - HOURS: Time is measured in hours.\\n *      - DAYS: Time is measured in days.\\n */\\nenum TimeUnit {\\n    NO_UNIT, // No specific time unit is defined.\\n    HOURS, // Time is measured in hours.\\n    DAYS // Time is measured in days.\\n}\\n\\n/**\\n * @notice The `StrategyParameters` struct defines the parameters that configure a trading strategy.\\n * @dev These parameters dictate the behavior of the strategy, including trading details, conditions, and actions.\\n */\\n\\nstruct StrategyParameters {\\n    // @param _investToken The address of the investment token.\\n    address _investToken;\\n    // @param _investAmount The amount of investment token to be used.\\n    uint256 _investAmount;\\n    // @param _stableToken The address of the stable token.\\n    address _stableToken;\\n    // @param _stableAmount The amount of stable token to be used.\\n    uint256 _stableAmount;\\n    // @param _impact The impact tolerance for the strategy.\\n    uint256 _impact;\\n    // @param _floorType The type of floor price (if floor is set).\\n    FloorLegType _floorType;\\n    // @param _floorValue The value of the floor price (if floor is set).\\n    uint256 _floorValue;\\n    // @param _liquidateOnFloor A flag to trigger liquidation when the floor price is reached (if floor is set)..\\n    bool _liquidateOnFloor;\\n    // @param _cancelOnFloor A flag to cancel the strategy when the floor price is reached (if floor is set).\\n    bool _cancelOnFloor;\\n    // @param _minimumLoss The minimum loss required for floor percentage to satisfy.\\n    uint256 _minimumLoss;\\n    // @param _buyType The type of buy action (if buy is set).\\n    BuyLegType _buyType;\\n    // @param _buyValue The value of the buy action (if buy is set).\\n    uint256 _buyValue;\\n    // @param _buyTwapTime The time interval for TWAP buying (if buy is set).\\n    uint256 _buyTwapTime;\\n    // @param _buyTwapTimeUnit The unit of time for TWAP buying .\\n    TimeUnit _buyTwapTimeUnit;\\n    // @param _btdValue The value for buying the dip (if buy is set).\\n    uint256 _btdValue;\\n    // @param _btdType The type of buy the dip action (if buy is set).\\n    DIP_SPIKE _btdType;\\n    // @param _buyDCAUnit The unit for buy DCA (Dollar-Cost Averaging) for stable amount (if buy is set).\\n    DCA_UNIT _buyDCAUnit;\\n    // @param _buyDCAValue The value for buy DCA.\\n    uint256 _buyDCAValue;\\n    // @param _sellType The type of sell action (if sell is set).\\n    SellLegType _sellType;\\n    // @param _sellValue The value of the sell action (if sell is set).\\n    uint256 _sellValue;\\n    // @param if sell DCA is selected, _highSellValue is used to trigger complete sell when the high sell value is reached (if sell is set).\\n    uint256 _highSellValue;\\n    // @param _minimumProfit The minimum profit to be generated during sell if sell profit percentage is set\\n    uint256 _minimumProfit;\\n    // @param _strValue The value of the str if it is set to true (if sell is set).\\n    uint256 _strValue;\\n    // @param _strType The type of str.\\n    DIP_SPIKE _strType;\\n    // @param _sellDCAUnit The unit for sell DCA (Dollar-Cost Averaging) for the invest amount (if sell is set).\\n    DCA_UNIT _sellDCAUnit;\\n    // @param _sellDCAValue The value for sell DCA.\\n    uint256 _sellDCAValue;\\n    // @param _sellTwapTime The time interval for TWAP selling (if sell is set).\\n    uint256 _sellTwapTime;\\n    //  @param _sellTwapTimeUnit The unit of time for TWAP selling (if sell is set).\\n    TimeUnit _sellTwapTimeUnit;\\n    // @param _completeOnSell A flag to complete the strategy on selling (if sell is set).\\n    bool _completeOnSell;\\n    // @param _current_price_sell The current price indicator is selected for sell\\n    bool _current_price_sell;\\n    // @param _current_price The current price indicator is selected for buy\\n    bool _current_price_buy;\\n}\\n\\n/**\\n * @notice The `Strategy` struct defines the characteristics and status of a trading strategy.\\n * @dev This struct encapsulates important data related to a trading strategy, including user ownership,\\n *      strategy parameters, execution times, financial metrics, and its current status.\\n * it is mostly used for internal computation\\n */\\n\\nstruct Strategy {\\n    //  @param user The address of the strategy owner.\\n    address user;\\n    // @param parameters The parameters that configure the behavior of the strategy\\n    // as passed by the user and defined above\\n    StrategyParameters parameters;\\n    // to store invest amount to be sold when dca is chosen for percentage.\\n    uint256 sellPercentageAmount;\\n    // to store stable amount to be given when dca is chosen for percentage.\\n    uint256 buyPercentageAmount;\\n    // the invest amount based on which sellPercentageAmount is calculated\\n    uint256 sellPercentageTotalAmount;\\n    // the stable amount based on which buyPercentageAmount is calculated\\n    uint256 buyPercentageTotalAmount;\\n    //  @param sellTwapExecutedAt The timestamp of the last executed TWAP (Time-Weighted Average Price) sell.\\n    //  if sell twap is set for the sell. Otherwise it remains 0\\n    uint256 sellTwapExecutedAt;\\n    //  @param buyTwapExecutedAt The timestamp of the last executed TWAP buy.\\n    //  if buy Twap is set for btd. Otherwise it remains 0.\\n    uint256 buyTwapExecutedAt;\\n    // @param invest roundId The Chainlink VRF (Verifiable Random Function) round ID.\\n    uint80 investRoundIdForBTD;\\n    // @param stable roundId The Chainlink VRF (Verifiable Random Function) round ID.\\n    uint80 stableRoundIdForBTD;\\n    // @param invest roundId The Chainlink VRF (Verifiable Random Function) round ID.\\n    uint80 investRoundIdForSTR;\\n    // @param stable roundId The Chainlink VRF (Verifiable Random Function) round ID.\\n    uint80 stableRoundIdForSTR;\\n    // @param investPrice The price at which investment is made.\\n    //While creating strategy it is set to the current price\\n    uint256 investPrice;\\n    //  @param profit The current profit generated by the strategy.\\n    uint256 profit;\\n    //  @param budget The available budget for the strategy.\\n    // it is set at the starting of the strategy\\n    uint256 budget;\\n    // @param status The current status of the strategy.\\n    Status status;\\n}\\n/**\\n * @notice AppStorage is the central storage structure for this contract, holding essential data.\\n * @dev This struct contains critical information used by the contract for operation.\\n * It stores data such as function selectors, supported interfaces, the contract owner, strategy details,\\n * Chainlink feed information, and more.\\n */\\n\\nstruct AppStorage {\\n    // maps function selectors to the facets that execute the functions.\\n    // and maps the selectors to their position in the selectorSlots array.\\n    // func selector => address facet, selector position\\n    mapping(bytes4 => bytes32) facets;\\n    // array of slots of function selectors.\\n    // each slot holds 8 function selectors.\\n    mapping(uint256 => bytes32) selectorSlots;\\n    // The number of function selectors in selectorSlots\\n    uint16 selectorCount;\\n    // Used to query if a contract implements an interface.\\n    // Used to implement ERC-165.\\n    mapping(bytes4 => bool) supportedInterfaces;\\n    // owner of the contract\\n    address owner;\\n    // next id to use for strategies\\n    uint256 nextStrategyId;\\n    // array of strategies\\n    mapping(uint256 => Strategy) strategies;\\n    // chainlink feeds - asset => USD feed\\n    mapping(address => address) feeds;\\n    // account => nonce\\n    mapping(address => uint256) nonces;\\n    // reentrancy status\\n    ReentrancyStatus reentrancyStatus;\\n    // sequencer uptime feed\\n    address sequencerUptimeFeed;\\n    // max stale period\\n    uint256 maxStalePeriod;\\n}\\n\\n/**\\n * @title Swap\\n * @dev A struct representing a swap or trade operation on a decentralized exchange (DEX).\\n *  @param dex: The address of the DEX where the swap is to be executed.\\n *  @param callData: Encoded data containing instructions for the swap on the specified DEX.\\n */\\nstruct Swap {\\n    address dex;\\n    bytes callData;\\n}\\n\\n// Struct representing the parameters to update in a strategy\\nstruct UpdateStruct {\\n    uint256 sellValue;\\n    uint256 buyValue;\\n    uint256 strValue;\\n    uint256 btdValue;\\n    uint256 floorValue;\\n    uint256 highSellValue;\\n    uint256 buyTwapTime;\\n    TimeUnit buyTwapTimeUnit;\\n    uint256 buyDCAValue;\\n    uint256 sellDCAValue;\\n    uint256 sellTwapTime;\\n    TimeUnit sellTwapTimeUnit;\\n    bool toggleCompleteOnSell;\\n    bool toggleLiquidateOnFloor;\\n    bool toggleCancelOnFloor;\\n    uint256 impact;\\n    bool current_price_sell;\\n    bool current_price_buy;\\n    uint256 minimumLoss;\\n    uint256 minimumProfit;\\n}\\n\\n// struct for information regarding which token is added in the strategy and which deleted\\nstruct TokensTransaction {\\n    uint256 tokenSubstracted;\\n    uint256 tokenAdded;\\n    uint256 stableAmount;\\n    uint256 investAmount;\\n}\\n\",\"keccak256\":\"0x153f7b44f853de42ed8d36b437bf7d28d1aaacdee39d4e7f11c0eaa04b6e1718\",\"license\":\"MIT\"},\"contracts/facets/StrategyFacet.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport { AppStorage, Strategy, StrategyParameters, SellLegType, BuyLegType, FloorLegType, DCA_UNIT, DIP_SPIKE, TimeUnit, Status, UpdateStruct } from \\\"../AppStorage.sol\\\";\\nimport { Modifiers } from \\\"../utils/Modifiers.sol\\\";\\nimport { InvalidImpact, InvalidInvestToken, InvalidStableToken, TokensMustDiffer, AlreadyCancelled, AtLeastOneOptionRequired, InvalidBuyValue, InvalidBuyType, InvalidFloorValue, InvalidFloorType, InvalidSellType, InvalidSellValue, InvalidStableAmount, BuyAndSellAtMisorder, InvalidInvestAmount, FloorValueGreaterThanBuyValue, FloorValueGreaterThanSellValue, BothBuyTwapAndBTD, BuyDCAWithoutBuy, BuyTwapTimeInvalid, BuyTwapTimeUnitNotSelected, BothSellTwapAndSTR, SellDCAWithoutSell, SellTwapTimeUnitNotSelected, SellTwapTimeInvalid, SellTwapOrStrWithoutSellDCAUnit, SellDCAUnitWithoutSellDCAValue, StrWithoutStrType, BTDWithoutBTDType, BuyDCAWithoutBuyDCAUnit, BuyDCAUnitWithoutBuyDCAValue, InvalidHighSellValue, SellDCAValueRangeIsNotValid, BuyDCAValueRangeIsNotValid, DCAValueShouldBeLessThanIntitialAmount, OrphandStrategy, BuyNeverExecute, InvalidSigner, InvalidNonce, StrategyIsNotActive, BuyNotSet, SellNotSelected, PercentageNotInRange, BuyTwapNotSelected, SellTwapNotSelected, FloorNotSet } from \\\"../utils/GenericErrors.sol\\\";\\nimport { LibPrice } from \\\"../libraries/LibPrice.sol\\\";\\nimport { LibTrade } from \\\"../libraries/LibTrade.sol\\\";\\nimport { LibSignature } from \\\"../libraries/LibSignature.sol\\\";\\nimport { LibUtil } from \\\"../libraries/LibUtil.sol\\\";\\nimport { IERC20Metadata } from \\\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\\\";\\nimport { IERC20Permit } from \\\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol\\\";\\n\\nerror BothStableAndInvestAmountProvided();\\nerror OnlyOwnerCanCancelStrategies();\\nerror NoAmountProvided();\\nerror HighSellValueIsChosenWithoutSeLLDCA();\\nerror OnlyOwnerCanUpdateStrategies();\\nerror NothingToUpdate();\\nerror SellDCANotSet();\\nerror BuyDCANotSet();\\nerror STRIsNotSet();\\nerror BTDIsNotSet();\\nerror InvestAmountMustBeProvided();\\nerror FloorPercentageNotSet();\\nerror SellPercentageNotSet();\\nerror StrValueGreaterThan100();\\nerror BtdValueGreaterThan100();\\nerror BuySellCurrentPrice();\\nerror TypeChosenWithoutValue();\\nerror DCAValueWithoutDCA();\\n\\n/**\\n * @title StrategyFacet\\n * @notice This contract handles the creation, retrieval, and cancellation of strategies.\\n * Strategies define specific trade execution conditions and actions.\\n * @dev StrategyFacet is one of the facets of the system, dedicated to strategy management.\\n */\\ncontract StrategyFacet is Modifiers {\\n    /**\\n     * @notice The `Permit` struct is used to hold the parameters for the permit function.\\n     * @param token The address of the token to spend.\\n     * @param owner The address of the owner of the token.\\n     * @param spender The address of the spender of the token.\\n     * @param value The amount of the token to spend.\\n     * @param deadline The deadline for the permit.\\n     * @param v The v parameter of the permit signature.\\n     * @param r The r parameter of the permit signature.\\n     * @param s The s parameter of the permit signature.\\n     */\\n    struct Permit {\\n        address token;\\n        address owner;\\n        address spender;\\n        uint256 value;\\n        uint256 deadline;\\n        uint8 v;\\n        bytes32 r;\\n        bytes32 s;\\n    }\\n\\n    /**\\n     * @notice The `AppStorage` state variable serves as the central data repository for this contract. Please\\n     * please look at AppStorage.sol for more detail\\n     */\\n    AppStorage internal s;\\n\\n    /**\\n     * @notice Emitted when a new trading strategy is created.\\n     * @param strategyId The unique ID of the strategy.\\n     * @param user address of the user whose  for whose strategy is created\\n     * @param parameter The strategy parameter including settings for buying and selling.\\n     * @param investRoundId Round ID for the invest token price when the strategy is created.\\n     * @param stableRoundId Round ID for the stable token price when the strategy is created.\\n     * @param budget total budget of the user in the stable token\\n     * @param price price of the invest token w.r.t. the stable when strategy was created\\n     */\\n\\n    event StrategyCreated(\\n        uint256 indexed strategyId,\\n        address user,\\n        StrategyParameters parameter,\\n        uint80 investRoundId,\\n        uint80 stableRoundId,\\n        uint256 budget,\\n        uint256 price\\n    );\\n\\n    /**\\n     * @notice Emitted when a trade execution strategy is cancelled.\\n     * @param strategyId The unique ID of the cancelled strategy.\\n     * @param investTokenPrice The price of the invest token in USD.\\n     * @param stableTokenPrice The price of the stable token in USD.\\n     */\\n    event StrategyCancelled(uint256 indexed strategyId, uint256 investTokenPrice, uint256 stableTokenPrice);\\n\\n    /**\\n     * @notice Emitted when a strategy is updated.\\n     * @param strategyId The unique ID of the strategy.\\n     * @param updateStruct updated parameters of the strategy\\n     */\\n    event StrategyUpdated(uint256 indexed strategyId, StrategyParameters updateStruct);\\n\\n    /**\\n     * @notice Cancel a trade execution strategy.\\n     * @dev This function allows users to cancel a trade execution strategy based on its unique ID.\\n     *      When cancelled, the strategy's status is updated to \\\"CANCELLED.\\\"\\n     * @param id The unique ID of the strategy to cancel.\\n     */\\n    function cancelStrategy(uint256 id) external nonReentrant {\\n        _cancelStrategy(msg.sender, id);\\n    }\\n\\n    /**\\n     * @notice Cancel a trade execution strategy on behalf of another user.\\n     * @dev This function allows users to cancel a trade execution strategy based on its unique ID.\\n     *      When cancelled, the strategy's status is updated to \\\"CANCELLED.\\\"\\n     * @param id The unique ID of the strategy to cancel.\\n     */\\n    function cancelStrategyOnBehalf(\\n        uint256 id,\\n        uint256 nonce,\\n        bytes memory signature,\\n        address account\\n    ) external nonReentrant {\\n        if (s.nonces[account] != nonce) {\\n            revert InvalidNonce();\\n        }\\n\\n        bytes32 messageHash = getMessageHashToCancel(id, nonce, account);\\n        bytes32 ethSignedMessageHash = LibSignature.getEthSignedMessageHash(messageHash);\\n        address signer = LibSignature.recoverSigner(ethSignedMessageHash, signature);\\n        s.nonces[account] = s.nonces[account] + 1;\\n\\n        if (signer != account) {\\n            revert InvalidSigner();\\n        }\\n\\n        _cancelStrategy(account, id);\\n    }\\n\\n    /**\\n     * @notice Cancel a trade execution strategy.\\n     * @dev This function allows users to cancel a trade execution strategy based on its unique ID.\\n     *      When cancelled, the strategy's status is updated to \\\"CANCELLED.\\\"\\n     * @param user The address of the user who created the strategy.\\n     * @param id The unique ID of the strategy to cancel.\\n     */\\n    function _cancelStrategy(address user, uint256 id) internal {\\n        Strategy storage strategy = s.strategies[id];\\n        if (user != strategy.user) {\\n            revert OnlyOwnerCanCancelStrategies();\\n        }\\n\\n        if (strategy.status == Status.CANCELLED) {\\n            revert AlreadyCancelled();\\n        }\\n\\n        strategy.status = Status.CANCELLED;\\n        uint256 investPrice = LibPrice.getUSDPrice(strategy.parameters._investToken);\\n        uint256 stablePrice = LibPrice.getUSDPrice(strategy.parameters._stableToken);\\n        emit StrategyCancelled(id, investPrice, stablePrice);\\n    }\\n\\n    /**\\n     * @notice Get the next available strategy ID.\\n     * @dev This function returns the unique ID that will be assigned to the next created strategy.\\n     * @return The next available strategy ID.\\n     */\\n    function nextStrategyId() external view returns (uint256) {\\n        return s.nextStrategyId;\\n    }\\n\\n    /**\\n     * @notice Create a new trade execution strategy based on the provided parameters.\\n     * @dev This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.\\n     *      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.\\n     *      If the parameters do not meet the criteria, an error is thrown.\\n     * @param _parameter The strategy parameters defining the behavior and conditions of the strategy.\\n     */\\n    function createStrategy(StrategyParameters memory _parameter) public nonReentrant {\\n        _createStrategy(_parameter, msg.sender);\\n    }\\n\\n    /**\\n     * @notice Create a new trade execution strategy based on the provided parameters on behalf of another user.\\n     * @dev This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.\\n     *      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.\\n     *      If the parameters do not meet the criteria, an error is thrown.\\n     * @param permits The array of `Permit` structs containing the parameters for the permit function.\\n     * @param _parameter The strategy parameters defining the behavior and conditions of the strategy.\\n     * @param account The address of the user who created the strategy.\\n     * @param nonce The nonce of the user who created the strategy.\\n     * @param signature The signature of the user who created the strategy.\\n     */\\n    function createStrategyOnBehalf(\\n        Permit[] memory permits,\\n        StrategyParameters memory _parameter,\\n        address account,\\n        uint256 nonce,\\n        bytes memory signature\\n    ) public nonReentrant {\\n        for (uint256 i = 0; i < permits.length; i++) {\\n            IERC20Permit(permits[i].token).permit(\\n                permits[i].owner,\\n                permits[i].spender,\\n                permits[i].value,\\n                permits[i].deadline,\\n                permits[i].v,\\n                permits[i].r,\\n                permits[i].s\\n            );\\n        }\\n\\n        if (s.nonces[account] != nonce) {\\n            revert InvalidNonce();\\n        }\\n\\n        bytes32 messageHash = getMessageHashToCreate(_parameter, nonce, account);\\n        bytes32 ethSignedMessageHash = LibSignature.getEthSignedMessageHash(messageHash);\\n        address signer = LibSignature.recoverSigner(ethSignedMessageHash, signature);\\n        s.nonces[account] = s.nonces[account] + 1;\\n\\n        if (signer != account) {\\n            revert InvalidSigner();\\n        }\\n\\n        _createStrategy(_parameter, account);\\n    }\\n\\n    /**\\n     * @notice Get the message hash for a given strategy to create it.\\n     * @dev This function returns the message hash that must be signed by the user in order to create a strategy on behalf of another user.\\n     * @param _parameter The strategy parameters defining the behavior and conditions of the strategy.\\n     * @param nonce The nonce of the user who created the strategy.\\n     * @param account The address of the user who created the strategy.\\n     * @return The message hash for the given strategy.\\n     */\\n    function getMessageHashToCreate(\\n        StrategyParameters memory _parameter,\\n        uint256 nonce,\\n        address account\\n    ) public view returns (bytes32) {\\n        return keccak256(abi.encode(account, nonce, _parameter, LibUtil.getChainID()));\\n    }\\n\\n    /**\\n     * @notice Get the message hash for a given strategy to cancel.\\n     * @dev This function returns the message hash that must be signed by the user in order to cancel a strategy on behalf of another user.\\n     * @param id The strategy id\\n     * @param nonce The nonce of the user who created the strategy.\\n     * @param account The address of the user who created the strategy.\\n     * @return The message hash for the given strategy.\\n     */\\n    function getMessageHashToCancel(uint256 id, uint256 nonce, address account) public view returns (bytes32) {\\n        return keccak256(abi.encode(account, nonce, id, LibUtil.getChainID()));\\n    }\\n\\n    /**\\n     * @notice Retrieve the details of a trade execution strategy.\\n     * @dev This function allows users to query and retrieve information about a trade execution strategy\\n     *      based on its unique ID.\\n     * @param id The unique ID of the strategy to retrieve.\\n     * @return A `Strategy` struct containing details of the specified strategy.\\n     */\\n    function getStrategy(uint256 id) external view returns (Strategy memory) {\\n        return s.strategies[id];\\n    }\\n\\n    /**\\n     * @notice Create a new trade execution strategy based on the provided parameters.\\n     * @dev This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.\\n     *      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.\\n     *      If the parameters do not meet the criteria, an error is thrown.\\n     * @param _parameter The strategy parameters defining the behavior and conditions of the strategy.\\n     * @param user The address of the user who created the strategy.\\n     */\\n    function _createStrategy(StrategyParameters memory _parameter, address user) internal {\\n        if (_parameter._investToken == address(0)) {\\n            revert InvalidInvestToken();\\n        }\\n\\n        if (_parameter._stableToken == address(0)) {\\n            revert InvalidStableToken();\\n        }\\n\\n        if (_parameter._investToken == _parameter._stableToken) {\\n            revert TokensMustDiffer();\\n        }\\n        (uint256 price, uint80 investRoundId, uint80 stableRoundId) = LibPrice.getPrice(\\n            _parameter._investToken,\\n            _parameter._stableToken\\n        );\\n\\n        if (_parameter._current_price_buy == true) {\\n            _parameter._buyType = BuyLegType.LIMIT_PRICE;\\n            _parameter._buyValue = price + (price * _parameter._impact) / LibTrade.MAX_PERCENTAGE;\\n        }\\n        if (_parameter._current_price_sell == true) {\\n            _parameter._sellType = SellLegType.LIMIT_PRICE;\\n            _parameter._sellValue = price - ((price * _parameter._impact) / LibTrade.MAX_PERCENTAGE);\\n        }\\n\\n        if (_parameter._current_price_buy == true && _parameter._current_price_sell == true) {\\n            if (_parameter._investAmount != 0) {\\n                _parameter._buyValue = _parameter._sellValue - 1;\\n            } else {\\n                _parameter._sellValue = _parameter._buyValue + 1;\\n            }\\n        }\\n\\n        if ((_parameter._floorValue == 0 && _parameter._sellValue == 0 && _parameter._buyValue == 0)) {\\n            revert AtLeastOneOptionRequired();\\n        }\\n\\n        if (_parameter._buyValue > 0 && _parameter._buyTwapTime > 0 && _parameter._btdValue > 0) {\\n            revert BothBuyTwapAndBTD();\\n        }\\n\\n        if ((_parameter._buyTwapTime > 0 || _parameter._btdValue > 0) && _parameter._buyValue == 0) {\\n            revert BuyDCAWithoutBuy();\\n        }\\n\\n        if (_parameter._buyTwapTime > 0 && _parameter._buyTwapTimeUnit == TimeUnit.NO_UNIT) {\\n            revert BuyTwapTimeUnitNotSelected();\\n        }\\n\\n        if (_parameter._sellTwapTime > 0 && _parameter._strValue > 0) {\\n            revert BothSellTwapAndSTR();\\n        }\\n\\n        if ((_parameter._sellTwapTime > 0 || _parameter._strValue > 0) && _parameter._sellValue == 0) {\\n            revert SellDCAWithoutSell();\\n        }\\n        if (_parameter._sellTwapTime > 0 && _parameter._sellTwapTimeUnit == TimeUnit.NO_UNIT) {\\n            revert SellTwapTimeUnitNotSelected();\\n        }\\n\\n        if ((_parameter._sellTwapTime > 0 || _parameter._strValue > 0) && _parameter._sellDCAUnit == DCA_UNIT.NO_UNIT) {\\n            revert SellTwapOrStrWithoutSellDCAUnit();\\n        }\\n\\n        if (_parameter._sellDCAUnit != DCA_UNIT.NO_UNIT && _parameter._sellDCAValue == 0) {\\n            revert SellDCAUnitWithoutSellDCAValue();\\n        }\\n\\n        if (_parameter._strValue > 0 && _parameter._strType == DIP_SPIKE.NO_SPIKE) {\\n            revert StrWithoutStrType();\\n        }\\n\\n        if (\\n            _parameter._strValue > 0 &&\\n            _parameter._strType == DIP_SPIKE.DECREASE_BY &&\\n            _parameter._strValue > LibTrade.MAX_PERCENTAGE\\n        ) {\\n            revert StrValueGreaterThan100();\\n        }\\n\\n        if (_parameter._btdValue > 0 && _parameter._btdType == DIP_SPIKE.NO_SPIKE) {\\n            revert BTDWithoutBTDType();\\n        }\\n\\n        if (\\n            _parameter._btdValue > 0 &&\\n            _parameter._btdType == DIP_SPIKE.DECREASE_BY &&\\n            _parameter._btdValue > LibTrade.MAX_PERCENTAGE\\n        ) {\\n            revert BtdValueGreaterThan100();\\n        }\\n\\n        if ((_parameter._btdValue > 0 || _parameter._buyTwapTime > 0) && _parameter._buyDCAUnit == DCA_UNIT.NO_UNIT) {\\n            revert BuyDCAWithoutBuyDCAUnit();\\n        }\\n\\n        if (_parameter._buyDCAUnit != DCA_UNIT.NO_UNIT && _parameter._buyDCAValue == 0) {\\n            revert BuyDCAUnitWithoutBuyDCAValue();\\n        }\\n\\n        if (_parameter._buyValue > 0 && _parameter._buyType == BuyLegType.NO_TYPE) {\\n            revert InvalidBuyType();\\n        }\\n\\n        // Check if floor is chosen\\n        if (_parameter._floorValue > 0 && _parameter._floorType == FloorLegType.NO_TYPE) {\\n            revert InvalidFloorType();\\n        }\\n\\n        if (_parameter._highSellValue != 0) {\\n            if (!(_parameter._strValue > 0 || _parameter._sellTwapTime > 0)) {\\n                revert HighSellValueIsChosenWithoutSeLLDCA();\\n            }\\n        }\\n\\n        if (_parameter._sellValue > 0 || _parameter._strValue > 0 || _parameter._sellTwapTime > 0) {\\n            if (_parameter._sellType == SellLegType.NO_TYPE) {\\n                revert InvalidSellType();\\n            }\\n            if (_parameter._sellValue == 0) {\\n                revert InvalidSellValue();\\n            }\\n            if (_parameter._highSellValue != 0 && _parameter._sellValue > _parameter._highSellValue) {\\n                revert InvalidHighSellValue();\\n            }\\n        }\\n\\n        // Check if both buy and sell are chosen\\n        if (_parameter._buyValue > 0 && (_parameter._sellValue > 0 || _parameter._floorValue > 0)) {\\n            if (_parameter._stableAmount == 0 && _parameter._investAmount == 0) {\\n                revert NoAmountProvided();\\n            }\\n            if (_parameter._buyValue >= _parameter._sellValue && _parameter._sellType == SellLegType.LIMIT_PRICE) {\\n                revert BuyAndSellAtMisorder();\\n            }\\n        }\\n        // Check if only buy is chosen\\n        if (_parameter._buyValue > 0 && _parameter._sellValue == 0 && _parameter._floorValue == 0) {\\n            if (_parameter._stableAmount == 0) {\\n                revert InvalidStableAmount();\\n            }\\n            if (_parameter._investAmount > 0) {\\n                revert OrphandStrategy();\\n            }\\n        }\\n\\n        if (_parameter._buyValue == 0 && _parameter._sellValue > 0 && _parameter._floorValue > 0) {\\n            if (_parameter._stableAmount > 0) {\\n                revert OrphandStrategy();\\n            }\\n        }\\n\\n        if (\\n            (_parameter._sellValue > 0 || _parameter._floorValue > 0) &&\\n            _parameter._investAmount == 0 &&\\n            _parameter._buyValue == 0\\n        ) {\\n            revert InvestAmountMustBeProvided();\\n        }\\n        if (\\n            (_parameter._sellValue > 0 || _parameter._floorValue > 0) &&\\n            _parameter._investAmount > 0 &&\\n            (_parameter._completeOnSell || _parameter._cancelOnFloor) &&\\n            _parameter._buyValue > 0\\n        ) // Check if only sell is chosen\\n        {\\n            revert BuyNeverExecute();\\n        }\\n\\n        // Check if floor and sell are chosen\\n        if (\\n            _parameter._floorValue > 0 &&\\n            _parameter._sellValue > 0 &&\\n            _parameter._sellType == SellLegType.LIMIT_PRICE &&\\n            _parameter._floorType == FloorLegType.LIMIT_PRICE\\n        ) {\\n            if (_parameter._floorValue >= _parameter._sellValue) {\\n                revert FloorValueGreaterThanSellValue();\\n            }\\n        }\\n\\n        if (_parameter._floorValue > 0 && _parameter._floorType == FloorLegType.DECREASE_BY) {\\n            if (_parameter._floorValue > LibTrade.MAX_PERCENTAGE) {\\n                revert PercentageNotInRange();\\n            }\\n        }\\n\\n        // Check if floor and buy are chosen\\n        if (\\n            _parameter._floorValue > 0 && _parameter._buyValue > 0 && _parameter._floorType == FloorLegType.LIMIT_PRICE\\n        ) {\\n            if (_parameter._floorValue >= _parameter._buyValue) {\\n                revert FloorValueGreaterThanBuyValue();\\n            }\\n        }\\n\\n        if (_parameter._impact > LibTrade.MAX_PERCENTAGE || _parameter._impact == 0) {\\n            revert InvalidImpact();\\n        }\\n\\n        if (\\n            (_parameter._sellTwapTime > 0 || _parameter._strValue > 0) && _parameter._sellDCAUnit == DCA_UNIT.PERCENTAGE\\n        ) {\\n            if (_parameter._sellDCAValue <= 0 || _parameter._sellDCAValue > LibTrade.MAX_PERCENTAGE) {\\n                revert SellDCAValueRangeIsNotValid();\\n            }\\n        }\\n\\n        if (\\n            ((_parameter._sellTwapTime > 0 || _parameter._strValue > 0) && _parameter._sellDCAUnit == DCA_UNIT.FIXED) &&\\n            _parameter._investAmount > 0 &&\\n            (_parameter._sellDCAValue > _parameter._investAmount)\\n        ) {\\n            revert DCAValueShouldBeLessThanIntitialAmount();\\n        }\\n\\n        if (\\n            (_parameter._buyTwapTime > 0 || _parameter._btdValue > 0) &&\\n            (_parameter._buyDCAUnit == DCA_UNIT.FIXED) &&\\n            _parameter._stableAmount > 0 &&\\n            (_parameter._buyDCAValue > _parameter._stableAmount)\\n        ) {\\n            revert DCAValueShouldBeLessThanIntitialAmount();\\n        }\\n\\n        if (\\n            (_parameter._buyTwapTime > 0 || _parameter._btdValue > 0) && _parameter._buyDCAUnit == DCA_UNIT.PERCENTAGE\\n        ) {\\n            if (_parameter._buyDCAValue <= 0 || _parameter._buyDCAValue > LibTrade.MAX_PERCENTAGE) {\\n                revert BuyDCAValueRangeIsNotValid();\\n            }\\n        }\\n\\n        if (_parameter._minimumProfit > 0 && _parameter._sellType != SellLegType.INCREASE_BY) {\\n            revert SellPercentageNotSet();\\n        }\\n\\n        if (_parameter._minimumLoss > 0 && _parameter._floorType != FloorLegType.DECREASE_BY) {\\n            revert FloorPercentageNotSet();\\n        }\\n\\n        if (_parameter._btdType != DIP_SPIKE.NO_SPIKE && _parameter._btdValue == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._strType != DIP_SPIKE.NO_SPIKE && _parameter._strValue == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._buyTwapTimeUnit != TimeUnit.NO_UNIT && _parameter._buyTwapTime == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._sellTwapTimeUnit != TimeUnit.NO_UNIT && _parameter._sellTwapTime == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._floorType != FloorLegType.NO_TYPE && _parameter._floorValue == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._sellType != SellLegType.NO_TYPE && _parameter._sellValue == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if (_parameter._buyType != BuyLegType.NO_TYPE && _parameter._buyValue == 0) {\\n            revert TypeChosenWithoutValue();\\n        }\\n\\n        if ((_parameter._strValue == 0 && _parameter._sellTwapTime == 0) && _parameter._sellDCAValue > 0) {\\n            revert DCAValueWithoutDCA();\\n        }\\n\\n        if ((_parameter._btdValue == 0 && _parameter._buyTwapTime == 0) && _parameter._buyDCAValue > 0) {\\n            revert DCAValueWithoutDCA();\\n        }\\n\\n        uint256 decimals = 10 ** IERC20Metadata(_parameter._investToken).decimals();\\n\\n        if (_parameter._investAmount > 0 && _parameter._stableAmount > 0) {\\n            revert BothStableAndInvestAmountProvided();\\n        }\\n        uint256 budget = 0;\\n\\n        if (_parameter._investAmount > 0) {\\n            budget = ((_parameter._investAmount * price) / decimals);\\n        }\\n\\n        if (_parameter._stableAmount > 0) {\\n            budget = _parameter._stableAmount;\\n        }\\n        uint256 investPrice = 0;\\n        if (_parameter._investAmount > 0) {\\n            investPrice = price;\\n        }\\n        uint256 percentageAmountForSell = 0;\\n        if (_parameter._sellDCAUnit == DCA_UNIT.PERCENTAGE) {\\n            percentageAmountForSell = (_parameter._sellDCAValue * _parameter._investAmount) / LibTrade.MAX_PERCENTAGE;\\n        }\\n        uint256 percentageAmountForBuy = 0;\\n        if (_parameter._buyDCAUnit == DCA_UNIT.PERCENTAGE) {\\n            percentageAmountForBuy = (_parameter._buyDCAValue * _parameter._stableAmount) / LibTrade.MAX_PERCENTAGE;\\n        }\\n        s.strategies[s.nextStrategyId] = Strategy({\\n            user: user,\\n            sellTwapExecutedAt: 0,\\n            buyTwapExecutedAt: 0,\\n            investRoundIdForBTD: investRoundId,\\n            stableRoundIdForBTD: stableRoundId,\\n            investRoundIdForSTR: investRoundId,\\n            stableRoundIdForSTR: stableRoundId,\\n            parameters: _parameter,\\n            investPrice: investPrice,\\n            profit: 0,\\n            sellPercentageAmount: percentageAmountForSell,\\n            sellPercentageTotalAmount: percentageAmountForSell > 0 ? _parameter._investAmount : 0,\\n            buyPercentageAmount: percentageAmountForBuy,\\n            buyPercentageTotalAmount: percentageAmountForBuy > 0 ? _parameter._stableAmount : 0,\\n            budget: budget,\\n            status: Status.ACTIVE\\n        });\\n\\n        s.nextStrategyId++;\\n\\n        emit StrategyCreated((s.nextStrategyId - 1), user, _parameter, investRoundId, stableRoundId, budget, price);\\n    }\\n\\n    /**\\n     * @dev Update an existing strategy with new parameters.\\n     * @param strategyId The unique identifier of the strategy to update.\\n     * @param updateStruct A struct containing the updated parameters for the strategy.\\n     */\\n    function updateStrategy(uint256 strategyId, UpdateStruct calldata updateStruct) external nonReentrant {\\n        _updateStrategy(msg.sender, strategyId, updateStruct);\\n    }\\n\\n    /**\\n     * @notice Get the message hash for a given strategy to update it.\\n     * @dev This function returns the message hash that must be signed by the user in order to update a strategy on behalf of another user.\\n     * @param id The strategy id\\n     * @param updateStruct updated parameters of the strategy\\n     * @param nonce The nonce of the user who created the strategy.\\n     * @param account The address of the user who created the strategy.\\n     * @return The message hash for the given strategy.\\n     */\\n    function getMessageHashToUpdate(\\n        uint256 id,\\n        UpdateStruct calldata updateStruct,\\n        uint256 nonce,\\n        address account\\n    ) public view returns (bytes32) {\\n        return keccak256(abi.encode(account, nonce, id, updateStruct, LibUtil.getChainID()));\\n    }\\n\\n    /**\\n     * @dev Update an existing strategy with new parameters on behalf of another user.\\n     * @param strategyId The unique identifier of the strategy to update.\\n     * @param updateStruct A struct containing the updated parameters for the strategy.\\n     * @param account The address of the user who created the strategy.\\n     * @param nonce The nonce of the user who created the strategy.\\n     * @param signature The signature of the user who created the strategy.\\n     */\\n    function updateStrategyOnBehalf(\\n        uint256 strategyId,\\n        UpdateStruct calldata updateStruct,\\n        address account,\\n        uint256 nonce,\\n        bytes memory signature\\n    ) external nonReentrant {\\n        if (s.nonces[account] != nonce) {\\n            revert InvalidNonce();\\n        }\\n\\n        bytes32 messageHash = getMessageHashToUpdate(strategyId, updateStruct, nonce, account);\\n        bytes32 ethSignedMessageHash = LibSignature.getEthSignedMessageHash(messageHash);\\n        address signer = LibSignature.recoverSigner(ethSignedMessageHash, signature);\\n        s.nonces[account] = s.nonces[account] + 1;\\n\\n        if (signer != account) {\\n            revert InvalidSigner();\\n        }\\n\\n        _updateStrategy(signer, strategyId, updateStruct);\\n    }\\n\\n    /**\\n     * @dev Update an existing strategy with new parameters.\\n     * @param account The address of the user who created the strategy.\\n     * @param strategyId The unique identifier of the strategy to update.\\n     * @param updateStruct A struct containing the updated parameters for the strategy.\\n     */\\n    function _updateStrategy(address account, uint256 strategyId, UpdateStruct calldata updateStruct) internal {\\n        if (\\n            updateStruct.sellValue == 0 &&\\n            updateStruct.buyValue == 0 &&\\n            updateStruct.floorValue == 0 &&\\n            updateStruct.highSellValue == 0 &&\\n            updateStruct.buyTwapTime == 0 &&\\n            updateStruct.buyTwapTimeUnit == TimeUnit.NO_UNIT &&\\n            updateStruct.buyDCAValue == 0 &&\\n            updateStruct.sellDCAValue == 0 &&\\n            updateStruct.strValue == 0 &&\\n            updateStruct.btdValue == 0 &&\\n            updateStruct.sellTwapTime == 0 &&\\n            updateStruct.sellTwapTimeUnit == TimeUnit.NO_UNIT &&\\n            updateStruct.toggleCompleteOnSell == false &&\\n            updateStruct.toggleLiquidateOnFloor == false &&\\n            updateStruct.toggleCancelOnFloor == false &&\\n            updateStruct.impact == 0 &&\\n            updateStruct.minimumProfit == 0 &&\\n            updateStruct.minimumLoss == 0 &&\\n            updateStruct.current_price_buy == false &&\\n            updateStruct.current_price_sell == false\\n        ) {\\n            revert NothingToUpdate();\\n        }\\n        Strategy storage strategy = s.strategies[strategyId];\\n        if (strategy.user != account) {\\n            revert OnlyOwnerCanUpdateStrategies();\\n        }\\n        if (strategy.status != Status.ACTIVE) {\\n            revert StrategyIsNotActive();\\n        }\\n\\n        if (updateStruct.sellValue > 0 && strategy.parameters._sellValue == 0) {\\n            revert SellNotSelected();\\n        }\\n        if (updateStruct.buyValue > 0 && (strategy.parameters._buyValue == 0)) {\\n            revert BuyNotSet();\\n        }\\n        if (updateStruct.floorValue > 0 && strategy.parameters._floorValue == 0) {\\n            revert FloorNotSet();\\n        }\\n\\n        if (\\n            (updateStruct.highSellValue > 0 || updateStruct.sellDCAValue > 0) &&\\n            (strategy.parameters._strValue == 0 && strategy.parameters._sellTwapTime == 0)\\n        ) {\\n            revert SellDCANotSet();\\n        }\\n\\n        if (strategy.parameters._strValue == 0 && updateStruct.strValue > 0) {\\n            revert STRIsNotSet();\\n        }\\n\\n        if (\\n            updateStruct.strValue > LibTrade.MAX_PERCENTAGE && (strategy.parameters._strType == DIP_SPIKE.DECREASE_BY)\\n        ) {\\n            revert PercentageNotInRange();\\n        } else if (\\n            updateStruct.strValue > 0 &&\\n            (strategy.parameters._strType == DIP_SPIKE.INCREASE_BY ||\\n                strategy.parameters._strType == DIP_SPIKE.DECREASE_BY)\\n        ) {\\n            strategy.parameters._strValue = updateStruct.strValue;\\n        }\\n        if (\\n            updateStruct.strValue > 0 &&\\n            (strategy.parameters._strType == DIP_SPIKE.FIXED_DECREASE ||\\n                strategy.parameters._strType == DIP_SPIKE.FIXED_INCREASE)\\n        ) {\\n            strategy.parameters._strValue = updateStruct.strValue;\\n        }\\n\\n        if (strategy.parameters._btdValue == 0 && updateStruct.btdValue > 0) {\\n            revert BTDIsNotSet();\\n        }\\n\\n        if (\\n            updateStruct.btdValue > LibTrade.MAX_PERCENTAGE && (strategy.parameters._btdType == DIP_SPIKE.DECREASE_BY)\\n        ) {\\n            revert PercentageNotInRange();\\n        } else if (\\n            updateStruct.btdValue > 0 &&\\n            (strategy.parameters._btdType == DIP_SPIKE.INCREASE_BY ||\\n                strategy.parameters._btdType == DIP_SPIKE.DECREASE_BY)\\n        ) {\\n            strategy.parameters._btdValue = updateStruct.btdValue;\\n        }\\n        if (\\n            updateStruct.btdValue > 0 &&\\n            (strategy.parameters._btdType == DIP_SPIKE.FIXED_DECREASE ||\\n                strategy.parameters._btdType == DIP_SPIKE.FIXED_INCREASE)\\n        ) {\\n            strategy.parameters._btdValue = updateStruct.btdValue;\\n        }\\n\\n        if (\\n            updateStruct.buyDCAValue > 0 &&\\n            (strategy.parameters._btdValue == 0 || strategy.parameters._buyTwapTime == 0)\\n        ) {\\n            revert BuyDCANotSet();\\n        }\\n        if (\\n            (updateStruct.buyTwapTime > 0 || updateStruct.buyTwapTimeUnit != TimeUnit.NO_UNIT) &&\\n            strategy.parameters._buyTwapTime == 0\\n        ) {\\n            revert BuyTwapNotSelected();\\n        }\\n        if (\\n            (updateStruct.sellTwapTime > 0 || updateStruct.sellTwapTimeUnit != TimeUnit.NO_UNIT) &&\\n            strategy.parameters._sellTwapTime == 0\\n        ) {\\n            revert SellTwapNotSelected();\\n        }\\n        if (updateStruct.impact > LibTrade.MAX_PERCENTAGE) {\\n            revert InvalidImpact();\\n        }\\n\\n        if (updateStruct.impact > 0) {\\n            strategy.parameters._impact = updateStruct.impact;\\n        }\\n\\n        (uint256 price, , ) = LibPrice.getPrice(strategy.parameters._investToken, strategy.parameters._stableToken);\\n        if (updateStruct.current_price_buy == true) {\\n            if (strategy.parameters._buyValue > 0) {\\n                strategy.parameters._buyValue =\\n                    price +\\n                    ((price * strategy.parameters._impact) / LibTrade.MAX_PERCENTAGE);\\n            } else {\\n                revert BuyNotSet();\\n            }\\n        }\\n\\n        if (updateStruct.current_price_sell == true) {\\n            if (strategy.parameters._sellValue > 0 && strategy.parameters._sellType == SellLegType.LIMIT_PRICE) {\\n                strategy.parameters._sellValue =\\n                    price -\\n                    ((price * strategy.parameters._impact) / LibTrade.MAX_PERCENTAGE);\\n            } else {\\n                revert SellNotSelected();\\n            }\\n        }\\n\\n        if (updateStruct.current_price_buy == true && updateStruct.current_price_sell == true) {\\n            revert BuySellCurrentPrice();\\n        }\\n\\n        if (\\n            updateStruct.floorValue > 0 &&\\n            updateStruct.buyValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            strategy.parameters._buyValue > 0 &&\\n            updateStruct.floorValue >= updateStruct.buyValue\\n        ) {\\n            revert FloorValueGreaterThanBuyValue();\\n        }\\n\\n        if (\\n            updateStruct.floorValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            strategy.parameters._buyValue > 0 &&\\n            updateStruct.floorValue >= strategy.parameters._buyValue\\n        ) {\\n            revert FloorValueGreaterThanBuyValue();\\n        }\\n\\n        if (updateStruct.floorValue > 0 && strategy.parameters._floorType == FloorLegType.DECREASE_BY) {\\n            if (updateStruct.floorValue > LibTrade.MAX_PERCENTAGE) {\\n                revert PercentageNotInRange();\\n            } else {\\n                strategy.parameters._floorValue = updateStruct.floorValue;\\n            }\\n        }\\n\\n        if (\\n            updateStruct.floorValue > 0 &&\\n            updateStruct.sellValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            strategy.parameters._sellValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            updateStruct.floorValue >= updateStruct.sellValue\\n        ) {\\n            revert FloorValueGreaterThanSellValue();\\n        }\\n\\n        if (\\n            updateStruct.sellValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            strategy.parameters._sellValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            strategy.parameters._floorValue >= updateStruct.sellValue\\n        ) {\\n            revert FloorValueGreaterThanSellValue();\\n        }\\n\\n        if (\\n            updateStruct.floorValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            strategy.parameters._sellValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            updateStruct.floorValue >= strategy.parameters._sellValue\\n        ) {\\n            revert FloorValueGreaterThanSellValue();\\n        }\\n\\n        if (\\n            updateStruct.buyValue > 0 &&\\n            updateStruct.sellValue > 0 &&\\n            strategy.parameters._buyValue > 0 &&\\n            strategy.parameters._sellValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            updateStruct.buyValue >= updateStruct.sellValue\\n        ) {\\n            revert BuyAndSellAtMisorder();\\n        }\\n\\n        if (\\n            updateStruct.buyValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            strategy.parameters._buyType == BuyLegType.LIMIT_PRICE &&\\n            updateStruct.buyValue >= strategy.parameters._sellValue\\n        ) {\\n            revert BuyAndSellAtMisorder();\\n        }\\n\\n        if (\\n            updateStruct.sellValue > 0 &&\\n            strategy.parameters._buyValue > 0 &&\\n            strategy.parameters._sellValue > 0 &&\\n            strategy.parameters._sellType == SellLegType.LIMIT_PRICE &&\\n            strategy.parameters._buyValue >= updateStruct.sellValue\\n        ) {\\n            revert BuyAndSellAtMisorder();\\n        }\\n\\n        if (\\n            strategy.parameters._floorValue > 0 &&\\n            strategy.parameters._floorType == FloorLegType.LIMIT_PRICE &&\\n            updateStruct.floorValue > 0\\n        ) {\\n            strategy.parameters._floorValue = updateStruct.floorValue;\\n        }\\n\\n        if (strategy.parameters._buyValue > 0 && updateStruct.buyValue > 0) {\\n            strategy.parameters._buyValue = updateStruct.buyValue;\\n        }\\n\\n        if (strategy.parameters._sellValue > 0 && updateStruct.sellValue > 0) {\\n            strategy.parameters._sellValue = updateStruct.sellValue;\\n        }\\n\\n        if (\\n            (strategy.parameters._buyTwapTime > 0 || strategy.parameters._btdValue > 0) &&\\n            strategy.parameters._buyDCAUnit == DCA_UNIT.PERCENTAGE\\n        ) {\\n            if (updateStruct.buyDCAValue <= 0 || updateStruct.buyDCAValue > LibTrade.MAX_PERCENTAGE) {\\n                revert BuyDCAValueRangeIsNotValid();\\n            }\\n        }\\n\\n        if (\\n            ((strategy.parameters._buyTwapTime > 0 || strategy.parameters._btdValue > 0) &&\\n                strategy.parameters._buyDCAUnit == DCA_UNIT.FIXED) &&\\n            strategy.parameters._stableAmount > 0 &&\\n            (updateStruct.buyDCAValue > strategy.parameters._stableAmount)\\n        ) {\\n            revert DCAValueShouldBeLessThanIntitialAmount();\\n        }\\n\\n        if (\\n            (strategy.parameters._btdValue > 0 || strategy.parameters._buyTwapTime > 0) && updateStruct.buyDCAValue > 0\\n        ) {\\n            strategy.parameters._buyDCAValue = updateStruct.buyDCAValue;\\n        }\\n\\n        if (\\n            (strategy.parameters._sellTwapTime > 0 || strategy.parameters._strValue > 0) &&\\n            strategy.parameters._sellDCAUnit == DCA_UNIT.PERCENTAGE\\n        ) {\\n            if (updateStruct.sellDCAValue <= 0 || updateStruct.sellDCAValue > LibTrade.MAX_PERCENTAGE) {\\n                revert SellDCAValueRangeIsNotValid();\\n            }\\n        }\\n\\n        if (\\n            ((strategy.parameters._sellTwapTime > 0 || strategy.parameters._strValue > 0) &&\\n                strategy.parameters._sellDCAUnit == DCA_UNIT.FIXED) &&\\n            strategy.parameters._investAmount > 0 &&\\n            (updateStruct.sellDCAValue > strategy.parameters._investAmount)\\n        ) {\\n            revert DCAValueShouldBeLessThanIntitialAmount();\\n        }\\n\\n        if (updateStruct.minimumLoss > 0 && strategy.parameters._floorType != FloorLegType.DECREASE_BY) {\\n            revert FloorPercentageNotSet();\\n        }\\n\\n        if (updateStruct.minimumProfit > 0 && strategy.parameters._sellType != SellLegType.INCREASE_BY) {\\n            revert SellPercentageNotSet();\\n        }\\n\\n        if (updateStruct.minimumLoss > 0) {\\n            strategy.parameters._minimumLoss = updateStruct.minimumLoss;\\n        }\\n\\n        if (updateStruct.minimumProfit > 0) {\\n            strategy.parameters._minimumProfit = updateStruct.minimumProfit;\\n        }\\n\\n        if (\\n            (strategy.parameters._strValue > 0 || strategy.parameters._sellTwapTime > 0) &&\\n            updateStruct.sellDCAValue > 0\\n        ) {\\n            strategy.parameters._sellDCAValue = updateStruct.sellDCAValue;\\n        }\\n\\n        if (\\n            strategy.parameters._buyTwapTime > 0 &&\\n            (updateStruct.buyTwapTime != strategy.parameters._buyTwapTime ||\\n                updateStruct.buyTwapTimeUnit != strategy.parameters._buyTwapTimeUnit)\\n        ) {\\n            strategy.parameters._buyTwapTime = updateStruct.buyTwapTime;\\n\\n            if (updateStruct.buyTwapTimeUnit != TimeUnit.NO_UNIT) {\\n                strategy.parameters._buyTwapTimeUnit = updateStruct.buyTwapTimeUnit;\\n            }\\n        }\\n\\n        if (\\n            strategy.parameters._sellTwapTime > 0 &&\\n            (updateStruct.sellTwapTime != strategy.parameters._sellTwapTime ||\\n                updateStruct.sellTwapTimeUnit != strategy.parameters._sellTwapTimeUnit)\\n        ) {\\n            if (updateStruct.sellTwapTime > 0) {\\n                strategy.parameters._sellTwapTime = updateStruct.sellTwapTime;\\n            }\\n            if (\\n                updateStruct.sellTwapTimeUnit != strategy.parameters._sellTwapTimeUnit &&\\n                updateStruct.sellTwapTimeUnit != TimeUnit.NO_UNIT\\n            ) {\\n                strategy.parameters._sellTwapTimeUnit = updateStruct.sellTwapTimeUnit;\\n            }\\n        }\\n\\n        if (updateStruct.toggleCompleteOnSell) {\\n            strategy.parameters._completeOnSell = !strategy.parameters._completeOnSell;\\n        }\\n        if (updateStruct.toggleLiquidateOnFloor) {\\n            strategy.parameters._liquidateOnFloor = !strategy.parameters._liquidateOnFloor;\\n        }\\n        if (updateStruct.toggleCancelOnFloor) {\\n            strategy.parameters._cancelOnFloor = !strategy.parameters._cancelOnFloor;\\n        }\\n\\n        if (updateStruct.highSellValue != 0) {\\n            if ((strategy.parameters._strValue == 0 && strategy.parameters._sellTwapTime == 0)) {\\n                revert HighSellValueIsChosenWithoutSeLLDCA();\\n            }\\n        }\\n\\n        if (strategy.parameters._strValue > 0 || strategy.parameters._sellTwapTime > 0) {\\n            if (updateStruct.highSellValue != 0 && strategy.parameters._sellValue > updateStruct.highSellValue) {\\n                revert InvalidHighSellValue();\\n            }\\n        }\\n\\n        if (updateStruct.highSellValue != 0) {\\n            strategy.parameters._highSellValue = updateStruct.highSellValue;\\n        }\\n\\n        if (updateStruct.buyDCAValue > 0) {\\n            strategy.buyPercentageAmount =\\n                (strategy.parameters._buyDCAValue * strategy.buyPercentageTotalAmount) /\\n                LibTrade.MAX_PERCENTAGE;\\n        }\\n\\n        if (updateStruct.sellDCAValue > 0) {\\n            strategy.sellPercentageAmount =\\n                (strategy.parameters._sellDCAValue * strategy.sellPercentageTotalAmount) /\\n                LibTrade.MAX_PERCENTAGE;\\n        }\\n        emit StrategyUpdated(strategyId, strategy.parameters);\\n    }\\n}\\n\",\"keccak256\":\"0xd0129405f817528b3ac53f5964c1c4bd35d59cd53e95a850b695891f5c78fd5b\",\"license\":\"MIT\"},\"contracts/interfaces/IDiamondCut.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface IDiamondCut {\\n    enum FacetCutAction {\\n        Add,\\n        Replace,\\n        Remove\\n    }\\n    // Add=0, Replace=1, Remove=2\\n\\n    struct FacetCut {\\n        address facetAddress;\\n        FacetCutAction action;\\n        bytes4[] functionSelectors;\\n    }\\n\\n    /// @notice Add/replace/remove any number of functions and optionally execute\\n    ///         a function with delegatecall\\n    /// @param _diamondCut Contains the facet addresses and function selectors\\n    /// @param _init The address of the contract or facet to execute _calldata\\n    /// @param _calldata A function call, including function selector and arguments\\n    ///                  _calldata is executed with delegatecall on _init\\n    function diamondCut(FacetCut[] calldata _diamondCut, address _init, bytes calldata _calldata) external;\\n\\n    event DiamondCut(FacetCut[] _diamondCut, address _init, bytes _calldata);\\n}\\n\",\"keccak256\":\"0x882028bbad965788430b37558ea12b191a31b4d6e562c08ac2357fa6e0bc9de5\",\"license\":\"MIT\"},\"contracts/libraries/LibBytes.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\nlibrary LibBytes {\\n    // solhint-disable no-inline-assembly\\n\\n    // LibBytes specific errors\\n    error SliceOverflow();\\n    error SliceOutOfBounds();\\n    error AddressOutOfBounds();\\n\\n    bytes16 private constant _SYMBOLS = \\\"0123456789abcdef\\\";\\n\\n    // -------------------------\\n    /**\\n     * @notice Slice a portion of a bytes array.\\n     * @param _bytes The input bytes array.\\n     * @param _start The starting index of the slice.\\n     * @param _length The length of the slice.\\n     * @return tempBytes A new bytes array containing the sliced data.\\n     */\\n    function slice(bytes memory _bytes, uint256 _start, uint256 _length) internal pure returns (bytes memory) {\\n        if (_length + 31 < _length) revert SliceOverflow();\\n        if (_bytes.length < _start + _length) revert SliceOutOfBounds();\\n\\n        bytes memory tempBytes;\\n\\n        assembly {\\n            switch iszero(_length)\\n            case 0 {\\n                // Get a location of some free memory and store it in tempBytes as\\n                // Solidity does for memory variables.\\n                tempBytes := mload(0x40)\\n\\n                // The first word of the slice result is potentially a partial\\n                // word read from the original array. To read it, we calculate\\n                // the length of that partial word and start copying that many\\n                // bytes into the array. The first word we copy will start with\\n                // data we don't care about, but the last `lengthmod` bytes will\\n                // land at the beginning of the contents of the new array. When\\n                // we're done copying, we overwrite the full first word with\\n                // the actual length of the slice.\\n                let lengthmod := and(_length, 31)\\n\\n                // The multiplication in the next line is necessary\\n                // because when slicing multiples of 32 bytes (lengthmod == 0)\\n                // the following copy loop was copying the origin's length\\n                // and then ending prematurely not copying everything it should.\\n                let mc := add(add(tempBytes, lengthmod), mul(0x20, iszero(lengthmod)))\\n                let end := add(mc, _length)\\n\\n                for {\\n                    // The multiplication in the next line has the same exact purpose\\n                    // as the one above.\\n                    let cc := add(add(add(_bytes, lengthmod), mul(0x20, iszero(lengthmod))), _start)\\n                } lt(mc, end) {\\n                    mc := add(mc, 0x20)\\n                    cc := add(cc, 0x20)\\n                } {\\n                    mstore(mc, mload(cc))\\n                }\\n\\n                mstore(tempBytes, _length)\\n\\n                //update free-memory pointer\\n                //allocating the array padded to 32 bytes like the compiler does now\\n                mstore(0x40, and(add(mc, 31), not(31)))\\n            }\\n            //if we want a zero-length slice let's just return a zero-length array\\n            default {\\n                tempBytes := mload(0x40)\\n                //zero out the 32 bytes slice we are about to return\\n                //we need to do it because Solidity does not garbage collect\\n                mstore(tempBytes, 0)\\n\\n                mstore(0x40, add(tempBytes, 0x20))\\n            }\\n        }\\n\\n        return tempBytes;\\n    }\\n\\n    /**\\n     * @notice Convert a portion of a bytes array to an address.\\n     * @param _bytes The input bytes array.\\n     * @param _start The starting index of the address data.\\n     * @return tempAddress The address extracted from the bytes array.\\n     */\\n    function toAddress(bytes memory _bytes, uint256 _start) internal pure returns (address) {\\n        if (_bytes.length < _start + 20) {\\n            revert AddressOutOfBounds();\\n        }\\n        address tempAddress;\\n\\n        assembly {\\n            tempAddress := div(mload(add(add(_bytes, 0x20), _start)), 0x1000000000000000000000000)\\n        }\\n\\n        return tempAddress;\\n    }\\n\\n    /// Copied from OpenZeppelin's `Strings.sol` utility library.\\n    /// https://github.com/OpenZeppelin/openzeppelin-contracts/blob/8335676b0e99944eef6a742e16dcd9ff6e68e609/contracts/utils/Strings.sol\\n    /**\\n     * @notice Convert a uint256 to its hexadecimal representation as a string.\\n     * @param value The uint256 value to convert.\\n     * @param length The desired length of the hexadecimal string.\\n     * @return A string containing the hexadecimal representation of the uint256 value.\\n     */\\n    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {\\n        bytes memory buffer = new bytes(2 * length + 2);\\n        buffer[0] = \\\"0\\\";\\n        buffer[1] = \\\"x\\\";\\n        for (uint256 i = 2 * length + 1; i > 1; --i) {\\n            buffer[i] = _SYMBOLS[value & 0xf];\\n            value >>= 4;\\n        }\\n        require(value == 0, \\\"Strings: hex length insufficient\\\");\\n        return string(buffer);\\n    }\\n}\\n\",\"keccak256\":\"0xbd7edc3743a6a3ca135ec7077a7e2f29c45719980c324eed18c084e15293a503\",\"license\":\"MIT\"},\"contracts/libraries/LibDiamond.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport { IDiamondCut } from \\\"../interfaces/IDiamondCut.sol\\\";\\nimport { AppStorage } from \\\"../AppStorage.sol\\\";\\n\\n// Remember to add the loupe functions from DiamondLoupeFacet to the diamond.\\n// The loupe functions are required by the EIP2535 Diamonds standard\\n\\nerror InitializationFunctionReverted(address _initializationContractAddress, bytes _calldata);\\n\\nlibrary LibDiamond {\\n    event DiamondCut(IDiamondCut.FacetCut[] _diamondCut, address _init, bytes _calldata);\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    bytes32 constant CLEAR_ADDRESS_MASK = bytes32(uint256(0xffffffffffffffffffffffff));\\n    bytes32 constant CLEAR_SELECTOR_MASK = bytes32(uint256(0xffffffff << 224));\\n\\n    function diamondStorage() internal pure returns (AppStorage storage s) {\\n        assembly {\\n            s.slot := 0\\n        }\\n    }\\n\\n    function setContractOwner(address _newOwner) internal {\\n        AppStorage storage s = diamondStorage();\\n        address previousOwner = s.owner;\\n        s.owner = _newOwner;\\n        emit OwnershipTransferred(previousOwner, _newOwner);\\n    }\\n\\n    // Internal function version of diamondCut\\n    // This code is almost the same as the external diamondCut,\\n    // except it is using 'Facet[] memory _diamondCut' instead of\\n    // 'Facet[] calldata _diamondCut'.\\n    // The code is duplicated to prevent copying calldata to memory which\\n    // causes an error for a two dimensional array.\\n    function diamondCut(IDiamondCut.FacetCut[] memory _diamondCut, address _init, bytes memory _calldata) internal {\\n        AppStorage storage s = diamondStorage();\\n        uint256 originalSelectorCount = s.selectorCount;\\n        uint256 selectorCount = originalSelectorCount;\\n        bytes32 selectorSlot;\\n        // Check if last selector slot is not full\\n        // \\\"selectorCount & 7\\\" is a gas efficient modulo by eight \\\"selectorCount % 8\\\"\\n        if (selectorCount & 7 > 0) {\\n            // get last selectorSlot\\n            // \\\"selectorSlot >> 3\\\" is a gas efficient division by 8 \\\"selectorSlot / 8\\\"\\n            selectorSlot = s.selectorSlots[selectorCount >> 3];\\n        }\\n        // loop through diamond cut\\n        for (uint256 facetIndex; facetIndex < _diamondCut.length; ) {\\n            (selectorCount, selectorSlot) = addReplaceRemoveFacetSelectors(\\n                selectorCount,\\n                selectorSlot,\\n                _diamondCut[facetIndex].facetAddress,\\n                _diamondCut[facetIndex].action,\\n                _diamondCut[facetIndex].functionSelectors\\n            );\\n\\n            unchecked {\\n                facetIndex++;\\n            }\\n        }\\n        if (selectorCount != originalSelectorCount) {\\n            s.selectorCount = uint16(selectorCount);\\n        }\\n        // If last selector slot is not full\\n        // \\\"selectorCount & 7\\\" is a gas efficient modulo by eight \\\"selectorCount % 8\\\"\\n        if (selectorCount & 7 > 0) {\\n            // \\\"selectorSlot >> 3\\\" is a gas efficient division by 8 \\\"selectorSlot / 8\\\"\\n            s.selectorSlots[selectorCount >> 3] = selectorSlot;\\n        }\\n        emit DiamondCut(_diamondCut, _init, _calldata);\\n        initializeDiamondCut(_init, _calldata);\\n    }\\n\\n    function addReplaceRemoveFacetSelectors(\\n        uint256 _selectorCount,\\n        bytes32 _selectorSlot,\\n        address _newFacetAddress,\\n        IDiamondCut.FacetCutAction _action,\\n        bytes4[] memory _selectors\\n    ) internal returns (uint256, bytes32) {\\n        AppStorage storage s = diamondStorage();\\n        require(_selectors.length > 0, \\\"LibDiamondCut: No selectors in facet to cut\\\");\\n        if (_action == IDiamondCut.FacetCutAction.Add) {\\n            enforceHasContractCode(_newFacetAddress, \\\"LibDiamondCut: Add facet has no code\\\");\\n            for (uint256 selectorIndex; selectorIndex < _selectors.length; ) {\\n                bytes4 selector = _selectors[selectorIndex];\\n                bytes32 oldFacet = s.facets[selector];\\n                require(\\n                    address(bytes20(oldFacet)) == address(0),\\n                    \\\"LibDiamondCut: Can't add function that already exists\\\"\\n                );\\n                // add facet for selector\\n                s.facets[selector] = bytes20(_newFacetAddress) | bytes32(_selectorCount);\\n                // \\\"_selectorCount & 7\\\" is a gas efficient modulo by eight \\\"_selectorCount % 8\\\"\\n                // \\\" << 5 is the same as multiplying by 32 ( * 32)\\n                uint256 selectorInSlotPosition = (_selectorCount & 7) << 5;\\n                // clear selector position in slot and add selector\\n                _selectorSlot =\\n                    (_selectorSlot & ~(CLEAR_SELECTOR_MASK >> selectorInSlotPosition)) |\\n                    (bytes32(selector) >> selectorInSlotPosition);\\n                // if slot is full then write it to storage\\n                if (selectorInSlotPosition == 224) {\\n                    // \\\"_selectorSlot >> 3\\\" is a gas efficient division by 8 \\\"_selectorSlot / 8\\\"\\n                    s.selectorSlots[_selectorCount >> 3] = _selectorSlot;\\n                    _selectorSlot = 0;\\n                }\\n                _selectorCount++;\\n\\n                unchecked {\\n                    selectorIndex++;\\n                }\\n            }\\n        } else if (_action == IDiamondCut.FacetCutAction.Replace) {\\n            enforceHasContractCode(_newFacetAddress, \\\"LibDiamondCut: Replace facet has no code\\\");\\n            for (uint256 selectorIndex; selectorIndex < _selectors.length; ) {\\n                bytes4 selector = _selectors[selectorIndex];\\n                bytes32 oldFacet = s.facets[selector];\\n                address oldFacetAddress = address(bytes20(oldFacet));\\n                // only useful if immutable functions exist\\n                require(oldFacetAddress != address(this), \\\"LibDiamondCut: Can't replace immutable function\\\");\\n                require(\\n                    oldFacetAddress != _newFacetAddress,\\n                    \\\"LibDiamondCut: Can't replace function with same function\\\"\\n                );\\n                require(oldFacetAddress != address(0), \\\"LibDiamondCut: Can't replace function that doesn't exist\\\");\\n                // replace old facet address\\n                s.facets[selector] = (oldFacet & CLEAR_ADDRESS_MASK) | bytes20(_newFacetAddress);\\n\\n                unchecked {\\n                    selectorIndex++;\\n                }\\n            }\\n        } else if (_action == IDiamondCut.FacetCutAction.Remove) {\\n            require(_newFacetAddress == address(0), \\\"LibDiamondCut: Remove facet address must be address(0)\\\");\\n            // \\\"_selectorCount >> 3\\\" is a gas efficient division by 8 \\\"_selectorCount / 8\\\"\\n            uint256 selectorSlotCount = _selectorCount >> 3;\\n            // \\\"_selectorCount & 7\\\" is a gas efficient modulo by eight \\\"_selectorCount % 8\\\"\\n            uint256 selectorInSlotIndex = _selectorCount & 7;\\n            for (uint256 selectorIndex; selectorIndex < _selectors.length; ) {\\n                if (_selectorSlot == 0) {\\n                    // get last selectorSlot\\n                    selectorSlotCount--;\\n                    _selectorSlot = s.selectorSlots[selectorSlotCount];\\n                    selectorInSlotIndex = 7;\\n                } else {\\n                    selectorInSlotIndex--;\\n                }\\n                bytes4 lastSelector;\\n                uint256 oldSelectorsSlotCount;\\n                uint256 oldSelectorInSlotPosition;\\n                // adding a block here prevents stack too deep error\\n                {\\n                    bytes4 selector = _selectors[selectorIndex];\\n                    bytes32 oldFacet = s.facets[selector];\\n                    require(\\n                        address(bytes20(oldFacet)) != address(0),\\n                        \\\"LibDiamondCut: Can't remove function that doesn't exist\\\"\\n                    );\\n                    // only useful if immutable functions exist\\n                    require(\\n                        address(bytes20(oldFacet)) != address(this),\\n                        \\\"LibDiamondCut: Can't remove immutable function\\\"\\n                    );\\n                    // replace selector with last selector in s.facets\\n                    // gets the last selector\\n                    // \\\" << 5 is the same as multiplying by 32 ( * 32)\\n                    lastSelector = bytes4(_selectorSlot << (selectorInSlotIndex << 5));\\n                    if (lastSelector != selector) {\\n                        // update last selector slot position info\\n                        s.facets[lastSelector] = (oldFacet & CLEAR_ADDRESS_MASK) | bytes20(s.facets[lastSelector]);\\n                    }\\n                    delete s.facets[selector];\\n                    uint256 oldSelectorCount = uint16(uint256(oldFacet));\\n                    // \\\"oldSelectorCount >> 3\\\" is a gas efficient division by 8 \\\"oldSelectorCount / 8\\\"\\n                    oldSelectorsSlotCount = oldSelectorCount >> 3;\\n                    // \\\"oldSelectorCount & 7\\\" is a gas efficient modulo by eight \\\"oldSelectorCount % 8\\\"\\n                    // \\\" << 5 is the same as multiplying by 32 ( * 32)\\n                    oldSelectorInSlotPosition = (oldSelectorCount & 7) << 5;\\n                }\\n                if (oldSelectorsSlotCount != selectorSlotCount) {\\n                    bytes32 oldSelectorSlot = s.selectorSlots[oldSelectorsSlotCount];\\n                    // clears the selector we are deleting and puts the last selector in its place.\\n                    oldSelectorSlot =\\n                        (oldSelectorSlot & ~(CLEAR_SELECTOR_MASK >> oldSelectorInSlotPosition)) |\\n                        (bytes32(lastSelector) >> oldSelectorInSlotPosition);\\n                    // update storage with the modified slot\\n                    s.selectorSlots[oldSelectorsSlotCount] = oldSelectorSlot;\\n                } else {\\n                    // clears the selector we are deleting and puts the last selector in its place.\\n                    _selectorSlot =\\n                        (_selectorSlot & ~(CLEAR_SELECTOR_MASK >> oldSelectorInSlotPosition)) |\\n                        (bytes32(lastSelector) >> oldSelectorInSlotPosition);\\n                }\\n                if (selectorInSlotIndex == 0) {\\n                    delete s.selectorSlots[selectorSlotCount];\\n                    _selectorSlot = 0;\\n                }\\n\\n                unchecked {\\n                    selectorIndex++;\\n                }\\n            }\\n            _selectorCount = selectorSlotCount * 8 + selectorInSlotIndex;\\n        } else {\\n            revert(\\\"LibDiamondCut: Incorrect FacetCutAction\\\");\\n        }\\n        return (_selectorCount, _selectorSlot);\\n    }\\n\\n    function initializeDiamondCut(address _init, bytes memory _calldata) internal {\\n        if (_init == address(0)) {\\n            return;\\n        }\\n        enforceHasContractCode(_init, \\\"LibDiamondCut: _init address has no code\\\");\\n        (bool success, bytes memory error) = _init.delegatecall(_calldata);\\n        if (!success) {\\n            if (error.length > 0) {\\n                // bubble up error\\n                /// @solidity memory-safe-assembly\\n                assembly {\\n                    let returndata_size := mload(error)\\n                    revert(add(32, error), returndata_size)\\n                }\\n            } else {\\n                revert InitializationFunctionReverted(_init, _calldata);\\n            }\\n        }\\n    }\\n\\n    function enforceHasContractCode(address _contract, string memory _errorMessage) internal view {\\n        uint256 contractSize;\\n        assembly {\\n            contractSize := extcodesize(_contract)\\n        }\\n        require(contractSize > 0, _errorMessage);\\n    }\\n}\\n\",\"keccak256\":\"0xcaa7ed67af8cf7fe50033f6d06c56cab2bd3392aceceb782660e07153c2c06db\",\"license\":\"MIT\"},\"contracts/libraries/LibPrice.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@chainlink/contracts/src/v0.8/Denominations.sol\\\";\\nimport \\\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\\\";\\nimport \\\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV2V3Interface.sol\\\";\\n\\nimport { LibDiamond } from \\\"./LibDiamond.sol\\\";\\nimport { InvalidPrice, FeedNotFound } from \\\"../utils/GenericErrors.sol\\\";\\nimport { AppStorage } from \\\"../AppStorage.sol\\\";\\n\\nerror SequencerDown();\\nerror GracePeriodNotOver();\\nerror PriceExpired();\\n\\n/**\\n * @title LibPrice\\n * @dev This library provides functions for fetching and manipulating asset prices.\\n */\\nlibrary LibPrice {\\n    address constant USD_QUOTE = 0x0000000000000000000000000000000000000348;\\n    uint256 private constant GRACE_PERIOD_TIME = 3600;\\n\\n    /**\\n     * @notice Get the current price and round IDs of an asset relative to a unit.\\n     * @param asset The address of the asset.\\n     * @param unit The address of the unit (e.g., USD).\\n     * @return price The current price of the asset in terms of the unit.\\n     * @return investRoundId The round ID of the asset's price feed.\\n     * @return stableRoundId The round ID of the unit's price feed.\\n     */\\n    function getPrice(address asset, address unit) internal view returns (uint256 price, uint80, uint80) {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n\\n        AggregatorV2V3Interface sequencerUptimeFeed = AggregatorV2V3Interface(s.sequencerUptimeFeed);\\n\\n        if (address(sequencerUptimeFeed) != address(0)) {\\n            (\\n                ,\\n                /*uint80 roundID*/ int256 answer,\\n                uint256 startedAt /*uint256 updatedAt*/ /*uint80 answeredInRound*/,\\n                ,\\n\\n            ) = sequencerUptimeFeed.latestRoundData();\\n\\n            // Answer == 0: Sequencer is up\\n            // Answer == 1: Sequencer is down\\n            bool isSequencerUp = answer == 0;\\n            if (!isSequencerUp) {\\n                revert SequencerDown();\\n            }\\n\\n            // Make sure the grace period has passed after the\\n            // sequencer is back up.\\n            uint256 timeSinceUp = block.timestamp - startedAt;\\n            if (timeSinceUp <= GRACE_PERIOD_TIME) {\\n                revert GracePeriodNotOver();\\n            }\\n        }\\n\\n        if (s.feeds[asset] == address(0) || s.feeds[unit] == address(0)) {\\n            revert FeedNotFound();\\n        }\\n\\n        (uint80 investRoundId, int256 assetPrice, , uint256 investUpdatedAt, ) = AggregatorV2V3Interface(s.feeds[asset])\\n            .latestRoundData();\\n        (uint80 stableRoundId, int256 unitPrice, , uint256 stableUpdatedAt, ) = AggregatorV2V3Interface(s.feeds[unit])\\n            .latestRoundData();\\n\\n        if (assetPrice == 0 || unitPrice == 0) {\\n            revert InvalidPrice();\\n        }\\n\\n        if (\\n            block.timestamp - investUpdatedAt > s.maxStalePeriod || block.timestamp - stableUpdatedAt > s.maxStalePeriod\\n        ) {\\n            revert PriceExpired();\\n        }\\n\\n        uint256 unitDecimals = IERC20Metadata(unit).decimals();\\n        price = (uint256(assetPrice) * (10 ** unitDecimals)) / uint256(unitPrice);\\n\\n        return (price, investRoundId, stableRoundId);\\n    }\\n\\n    /**\\n     * @notice Get the historical price of an asset relative to a unit at specific round IDs.\\n     * @param investRoundId The round ID of the asset's price feed.\\n     * @param stableRoundId The round ID of the unit's price feed.\\n     * @param asset The address of the asset.\\n     * @param unit The address of the unit (e.g., USD).\\n     * @return price The price of the asset in terms of the unit at the specified round IDs.\\n     */\\n    function getRoundData(\\n        uint80 investRoundId,\\n        uint80 stableRoundId,\\n        address asset,\\n        address unit\\n    ) internal view returns (uint256) {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n\\n        if (s.feeds[asset] == address(0) || s.feeds[unit] == address(0)) {\\n            revert FeedNotFound();\\n        }\\n\\n        (, int256 assetPrice, , , ) = AggregatorV2V3Interface(s.feeds[asset]).getRoundData(investRoundId);\\n        (, int256 unitPrice, , , ) = AggregatorV2V3Interface(s.feeds[unit]).getRoundData(stableRoundId);\\n\\n        if (assetPrice == 0 || unitPrice == 0) {\\n            revert InvalidPrice();\\n        }\\n\\n        uint256 unitDecimals = IERC20Metadata(unit).decimals();\\n        uint256 price = (uint256(assetPrice) * (10 ** unitDecimals)) / uint256(unitPrice);\\n\\n        return price;\\n    }\\n\\n    /**\\n     * @notice Get the price of an asset in USD.\\n     * @param asset The address of the asset.\\n     * @return price The price of the asset in USD\\n     */\\n    function getUSDPrice(address asset) internal view returns (uint256) {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n\\n        if (s.feeds[asset] == address(0)) {\\n            revert FeedNotFound();\\n        }\\n        (, int256 assetPrice, , , ) = AggregatorV2V3Interface(s.feeds[asset]).latestRoundData();\\n        if (assetPrice == 0) {\\n            revert InvalidPrice();\\n        }\\n        return uint256(assetPrice);\\n    }\\n\\n    /**\\n     * @notice Get the price of an asset in USD.\\n     * @param asset The address of the asset.\\n     * @param roundId the round for which price is required.\\n     * @return price The price of the asset based on round Id\\n     */\\n    function getPriceBasedOnRoundId(address asset, uint80 roundId) internal view returns (uint256) {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n\\n        if (s.feeds[asset] == address(0)) {\\n            revert FeedNotFound();\\n        }\\n        (, int256 assetPrice, , , ) = AggregatorV2V3Interface(s.feeds[asset]).getRoundData(roundId);\\n        if (assetPrice == 0) {\\n            revert InvalidPrice();\\n        }\\n        return uint256(assetPrice);\\n    }\\n}\\n\",\"keccak256\":\"0xd302b2e9d5de31e8669fb817227971f01713c68bf6de4539ca1f2d8d66d0b878\",\"license\":\"MIT\"},\"contracts/libraries/LibSignature.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\n/**\\n * @title LibSignature\\n * @dev This library provides utility functions for signature verification.\\n */\\nlibrary LibSignature {\\n    function recoverSigner(bytes32 _ethSignedMessageHash, bytes memory _signature) internal pure returns (address) {\\n        (bytes32 r, bytes32 s, uint8 v) = splitSignature(_signature);\\n\\n        return ecrecover(_ethSignedMessageHash, v, r, s);\\n    }\\n\\n    function splitSignature(bytes memory sig) internal pure returns (bytes32 r, bytes32 s, uint8 v) {\\n        require(sig.length == 65, \\\"invalid signature length\\\");\\n\\n        assembly {\\n            r := mload(add(sig, 32))\\n            s := mload(add(sig, 64))\\n            v := byte(0, mload(add(sig, 96)))\\n        }\\n    }\\n\\n    function getEthSignedMessageHash(bytes32 _messageHash) internal pure returns (bytes32) {\\n        return keccak256(abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n32\\\", _messageHash));\\n    }\\n}\\n\",\"keccak256\":\"0xc6533963db73e0c23e52ebdc3058c6721df2f4082c295ad0890827ef2032e89f\",\"license\":\"MIT\"},\"contracts/libraries/LibTrade.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport { IERC20Metadata } from \\\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\\\";\\nimport { HighImpact } from \\\"../utils/GenericErrors.sol\\\";\\n\\n/**\\n * @title LibTrade\\n * @dev This library provides functions for calculating exchange rates and validating slippage.\\n */\\nlibrary LibTrade {\\n    uint256 public constant MAX_PERCENTAGE = 10000;\\n\\n    /**\\n    @dev Calculate exchange rate given input and output amounts\\n    @param fromAsset Address of the asset that was used to swap\\n    @param fromAmount Amount of the asset that was used to swap\\n    @param toAmount Amount of the asset that was received from swap\\n    @return uint256 Returns the exchange rate in toAsset unit\\n     */\\n    function calculateExchangeRate(\\n        address fromAsset,\\n        uint256 fromAmount,\\n        uint256 toAmount\\n    ) internal view returns (uint256) {\\n        IERC20Metadata _fromToken = IERC20Metadata(fromAsset);\\n        uint256 fromDecimals = _fromToken.decimals();\\n        return ((toAmount * (10 ** fromDecimals)) / fromAmount);\\n    }\\n\\n    /**\\n     * @notice Validate the Impact of a swap.\\n     * @param exchangeRate The calculated exchange rate for the swap.\\n     * @param price The reference price for the swap.\\n     * @param maxImpact The maximum allowed Impact percentage.\\n     * @param isBuy A flag indicating if it's a buy operation (true) or not (false).\\n     * @return uint256 Returns the calculated Impact percentage.\\n     */\\n    function validateImpact(\\n        uint256 exchangeRate,\\n        uint256 price,\\n        uint256 maxImpact,\\n        bool isBuy\\n    ) internal pure returns (uint256) {\\n        uint256 impact = (price * MAX_PERCENTAGE) / exchangeRate;\\n\\n        if (isBuy && impact < MAX_PERCENTAGE && MAX_PERCENTAGE - impact > maxImpact) revert HighImpact();\\n        if (!isBuy && impact > MAX_PERCENTAGE && impact - MAX_PERCENTAGE > maxImpact) revert HighImpact();\\n        uint256 impactValue;\\n        if (isBuy && impact < MAX_PERCENTAGE) {\\n            impactValue = MAX_PERCENTAGE - impact;\\n        } else if (!isBuy && impact > MAX_PERCENTAGE) {\\n            impactValue = impact - MAX_PERCENTAGE;\\n        }\\n        return impactValue;\\n    }\\n}\\n\",\"keccak256\":\"0x96c2b97099929cfb81b5e161e3c0718952c6aea1a09573617c0dca820485b6a0\",\"license\":\"MIT\"},\"contracts/libraries/LibUtil.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\nimport \\\"./LibBytes.sol\\\";\\n\\n/**\\n * @title LibUtil\\n * @dev This library provides utility functions for working with revert messages.\\n */\\nlibrary LibUtil {\\n    using LibBytes for bytes;\\n\\n    /**\\n     * @notice Get a revert message from transaction result data.\\n     * @param _res The transaction result data to extract the revert message from.\\n     * @return string The revert message or a \\\"Transaction reverted silently\\\" message if none is found.\\n     */\\n    function getRevertMsg(bytes memory _res) internal pure returns (string memory) {\\n        // If the _res length is less than 68, then the transaction failed silently (without a revert message)\\n        if (_res.length < 68) return \\\"Transaction reverted silently\\\";\\n        bytes memory revertData = _res.slice(4, _res.length - 4); // Remove the selector which is the first 4 bytes\\n        return abi.decode(revertData, (string)); // All that remains is the revert string\\n    }\\n\\n    /**\\n     * @notice Used the get the ID of the current chain.\\n     * @return id The chain ID\\n     */\\n    function getChainID() internal view returns (uint256) {\\n        uint256 id;\\n        assembly {\\n            id := chainid()\\n        }\\n        return id;\\n    }\\n}\\n\",\"keccak256\":\"0x2ad03d87c101071a5a415a5dce0efaa23a1d9b1ea0d56fc2746094d89598e061\",\"license\":\"MIT\"},\"contracts/utils/GenericErrors.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.20;\\n\\nerror NoSwapFromZeroBalance();\\nerror InsufficientBalance(uint256 required, uint256 balance);\\nerror SwapFailed();\\nerror TransferFailed();\\nerror InvalidExchangeRate(uint256 required, uint256 actual);\\nerror InvalidPrice();\\nerror InvalidImpact();\\nerror HighImpact();\\nerror InvalidInvestToken();\\nerror InvalidStableToken();\\nerror TokensMustDiffer();\\nerror AtLeastOneOptionRequired();\\nerror InvalidInvestAmount();\\nerror FloorValueZero();\\nerror InvalidSellType();\\nerror InvalidSellValue();\\nerror BuyAndSellAtMisorder();\\nerror InvalidStableAmount();\\nerror InvalidBuyType();\\nerror InvalidBuyValue();\\nerror InvalidFloorValue();\\nerror InvalidFloorType();\\nerror InvalidSellTypeDCA();\\nerror FloorValueGreaterThanBuyValue();\\nerror FloorValueGreaterThanSellValue();\\nerror BothBuyTwapAndBTD();\\nerror BuyDCAWithoutBuy();\\nerror BuyTwapTimeInvalid();\\nerror BuyTwapTimeUnitNotSelected();\\nerror BothSellTwapAndSTR();\\nerror SellDCAWithoutSell();\\nerror SellTwapTimeUnitNotSelected();\\nerror SellTwapTimeInvalid();\\nerror SellTwapOrStrWithoutSellDCAUnit();\\nerror SellDCAUnitWithoutSellDCAValue();\\nerror StrWithoutStrType();\\nerror BTDWithoutBTDType();\\nerror BuyDCAWithoutBuyDCAUnit();\\nerror BuyDCAUnitWithoutBuyDCAValue();\\nerror InvalidHighSellValue();\\nerror SellDCAValueRangeIsNotValid();\\nerror DCAValueShouldBeLessThanIntitialAmount();\\nerror BuyDCAValueRangeIsNotValid();\\nerror OrphandStrategy();\\nerror BuyNeverExecute();\\nerror FloorGreaterThanPrice();\\nerror FeedNotFound();\\nerror WrongPreviousIDs();\\nerror RoundDataDoesNotMatch();\\nerror StrategyIsNotActive();\\nerror InvalidNonce();\\nerror InvalidSigner();\\nerror AlreadyCancelled();\\nerror BuyNotSet();\\nerror SellNotSelected();\\nerror PercentageNotInRange();\\nerror BuyTwapNotSelected();\\nerror SellTwapNotSelected();\\nerror FloorNotSet();\\nerror ReentrancyGuardReentrantCall();\\nerror PriceNotInRange();\\n\",\"keccak256\":\"0x5e7f9fa92bca7030dbb9bbba701fbf12850c0e8ac401b0490f408d0358da57b3\",\"license\":\"MIT\"},\"contracts/utils/Modifiers.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport { AppStorage, FloorLegType, BuyLegType, SellLegType, TimeUnit, DIP_SPIKE, DCA_UNIT, ReentrancyStatus } from \\\"../AppStorage.sol\\\";\\nimport { ReentrancyGuardReentrantCall } from \\\"./GenericErrors.sol\\\";\\nimport { LibDiamond } from \\\"../libraries/LibDiamond.sol\\\";\\n\\nabstract contract Modifiers {\\n    /// @notice 100% = 100000 -> 2 decimals\\n\\n    modifier onlyOwner() {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n        require(msg.sender == s.owner, \\\"Modifiers: Must be contract owner\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n        // On the first call to nonReentrant, s.reentrancyStatus will be ReentrancyStatus.NOT_ENTERED\\n        if (s.reentrancyStatus == ReentrancyStatus.ENTERED) {\\n            revert ReentrancyGuardReentrantCall();\\n        }\\n\\n        // Any calls to nonReentrant after this point will fail\\n        s.reentrancyStatus = ReentrancyStatus.ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        s.reentrancyStatus = ReentrancyStatus.NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Returns true if the reentrancy guard is currently set to \\\"entered\\\", which indicates there is a\\n     * `nonReentrant` function in the call stack.\\n     */\\n    function _reentrancyGuardEntered() internal view returns (bool) {\\n        AppStorage storage s = LibDiamond.diamondStorage();\\n        return s.reentrancyStatus == ReentrancyStatus.ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0x6bd19234ff15be724c86ba376048f6e577d7908cda343f5efdb37d22ad6f3216\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50614f60806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c806366d372df1161007157806366d372df146101135780638dce189714610126578063cfc0cc3414610139578063e502f6c714610159578063e819da351461016c578063ffc24bf51461017f57600080fd5b8063185f8447146100ae578063223bec6b146100c557806330c9943d146100da57806351becab2146100ed578063600949f514610100575b600080fd5b6005545b6040519081526020015b60405180910390f35b6100d86100d33660046141cd565b610192565b005b6100d86100e8366004614203565b6101af565b6100d86100fb3660046142a1565b6101ce565b6100d861010e366004614311565b6102b5565b6100b2610121366004614490565b61054b565b6100d86101343660046144c5565b610597565b61014c61014736600461452f565b61066f565b6040516100bc9190614764565b6100b261016736600461484a565b610a6c565b6100b261017a366004614881565b610a85565b6100d861018d36600461452f565b610ac0565b61019a610ad2565b6101a48133610b26565b6101ac612238565b50565b6101b7610ad2565b6101c233838361224d565b6101ca612238565b5050565b6101d6610ad2565b6001600160a01b038116600090815260086020526040902054831461020e57604051633ab3447f60e11b815260040160405180910390fd5b600061021b85858461054b565b9050600061022882613698565b9050600061023682866136eb565b6001600160a01b03851660009081526008602052604090205490915061025d9060016148d6565b6001600160a01b0380861660008181526008602052604090209290925582161461029a57604051632057875960e21b815260040160405180910390fd5b6102a4848861376b565b5050506102af612238565b50505050565b6102bd610ad2565b60005b855181101561046a578581815181106102db576102db6148e9565b6020026020010151600001516001600160a01b031663d505accf878381518110610307576103076148e9565b602002602001015160200151888481518110610325576103256148e9565b602002602001015160400151898581518110610343576103436148e9565b6020026020010151606001518a8681518110610361576103616148e9565b6020026020010151608001518b878151811061037f5761037f6148e9565b602002602001015160a001518c888151811061039d5761039d6148e9565b602002602001015160c001518d89815181106103bb576103bb6148e9565b602002602001015160e001516040518863ffffffff1660e01b815260040161042597969594939291906001600160a01b0397881681529590961660208601526040850193909352606084019190915260ff16608083015260a082015260c081019190915260e00190565b600060405180830381600087803b15801561043f57600080fd5b505af1158015610453573d6000803e3d6000fd5b505050508080610462906148ff565b9150506102c0565b506001600160a01b03831660009081526008602052604090205482146104a357604051633ab3447f60e11b815260040160405180910390fd5b60006104b0858486610a6c565b905060006104bd82613698565b905060006104cb82856136eb565b6001600160a01b0387166000908152600860205260409020549091506104f29060016148d6565b6001600160a01b0380881660008181526008602052604090209290925582161461052f57604051632057875960e21b815260040160405180910390fd5b6105398787610b26565b505050610544612238565b5050505050565b604080516001600160a01b03831660208201529081018390526060810184905246608082015260009060a0015b6040516020818303038152906040528051906020012090509392505050565b61059f610ad2565b6001600160a01b03831660009081526008602052604090205482146105d757604051633ab3447f60e11b815260040160405180910390fd5b60006105e586868587610a85565b905060006105f282613698565b9050600061060082856136eb565b6001600160a01b0387166000908152600860205260409020549091506106279060016148d6565b6001600160a01b0380881660008181526008602052604090209290925582161461066457604051632057875960e21b815260040160405180910390fd5b61053981898961224d565b610677613d29565b60008281526006602081815260409283902083516102008101855281546001600160a01b03908116825285516103e08101875260018401805483168252600280860154838801526003860154909316978201979097526004840154606082015260058401546080820152948301549195929493860193929160a084019160ff9091169081111561070957610709614548565b600281111561071a5761071a614548565b815260068201546020820152600782015460ff8082161515604084015261010090910481161515606083015260088301546080830152600983015460a09092019116600181111561076d5761076d614548565b600181111561077e5761077e614548565b8152600a8201546020820152600b8201546040820152600c82015460609091019060ff1660028111156107b3576107b3614548565b60028111156107c4576107c4614548565b8152600d8201546020820152600e82015460409091019060ff1660048111156107ef576107ef614548565b600481111561080057610800614548565b8152602001600e820160019054906101000a900460ff16600281111561082857610828614548565b600281111561083957610839614548565b8152600f8201546020820152601082015460409091019060ff16600281111561086457610864614548565b600281111561087557610875614548565b815260118201546020820152601282015460408201526013820154606082015260148201546080820152601582015460a09091019060ff1660048111156108be576108be614548565b60048111156108cf576108cf614548565b81526020016015820160019054906101000a900460ff1660028111156108f7576108f7614548565b600281111561090857610908614548565b81526016820154602082015260178201546040820152601882015460609091019060ff16600281111561093d5761093d614548565b600281111561094e5761094e614548565b81526018919091015461010080820460ff908116151560208086019190915262010000840482161515604080870191909152630100000090940482161515606095860152948652601a87015486860152601b87015492860192909252601c86015492850192909252601d8501546080850152601e85015460a0850152601f85015460c0850152918401546001600160501b0380821660e0860152600160501b8204811692850192909252600160a01b900481166101208401526021840154166101408301526022830154610160830152602383015461018083015260248301546101a083015260258301546101c090920191166002811115610a5257610a52614548565b6002811115610a6357610a63614548565b90525092915050565b6000818385466040516020016105789493929190614918565b60008183868646604051602001610aa095949392919061494d565b604051602081830303815290604052805190602001209050949350505050565b610ac8610ad2565b6101a4338261376b565b60006001600982015460ff166001811115610aef57610aef614548565b03610b0d57604051633ee5aeb560e01b815260040160405180910390fd5b6009810180546001919060ff191682805b021790555050565b81516001600160a01b0316610b4e57604051634700286b60e01b815260040160405180910390fd5b60408201516001600160a01b0316610b79576040516312848d8760e11b815260040160405180910390fd5b81604001516001600160a01b031682600001516001600160a01b031603610bb35760405163a755ce0160e01b815260040160405180910390fd5b6000806000610bca85600001518660400151613861565b925092509250846103c0015115156001151503610c17576001610140860152608085015161271090610bfc9085614ad9565b610c069190614af0565b610c1090846148d6565b6101608601525b6103a08501511515600103610c5c576001610240860152608085015161271090610c419085614ad9565b610c4b9190614af0565b610c559084614b12565b6102608601525b6103c085015115156001148015610c7a57506103a085015115156001145b15610cbe57602085015115610ca6576001856102600151610c9b9190614b12565b610160860152610cbe565b610160850151610cb79060016148d6565b6102608601525b60c0850151158015610cd35750610260850151155b8015610ce25750610160850151155b15610d0057604051631faf5bf560e01b815260040160405180910390fd5b6000856101600151118015610d1a57506000856101800151115b8015610d2b57506000856101c00151115b15610d4957604051636aadef8760e01b815260040160405180910390fd5b60008561018001511180610d6257506000856101c00151115b8015610d715750610160850151155b15610d8f5760405163c14db2a960e01b815260040160405180910390fd5b6000856101800151118015610dba57506000856101a001516002811115610db857610db8614548565b145b15610dd8576040516312100f4f60e11b815260040160405180910390fd5b6000856103400151118015610df257506000856102c00151115b15610e10576040516302960e3f60e41b815260040160405180910390fd5b60008561034001511180610e2957506000856102c00151115b8015610e385750610260850151155b15610e555760405162b4fc9f60e61b815260040160405180910390fd5b6000856103400151118015610e80575060008561036001516002811115610e7e57610e7e614548565b145b15610e9e576040516340d3c82560e01b815260040160405180910390fd5b60008561034001511180610eb757506000856102c00151115b8015610ed9575060008561030001516002811115610ed757610ed7614548565b145b15610ef757604051633229152160e11b815260040160405180910390fd5b60008561030001516002811115610f1057610f10614548565b14158015610f215750610320850151155b15610f3f57604051635b06ca5560e11b815260040160405180910390fd5b6000856102c00151118015610f6a57506000856102e001516004811115610f6857610f68614548565b145b15610f8857604051632808ffb560e01b815260040160405180910390fd5b6000856102c00151118015610fb357506001856102e001516004811115610fb157610fb1614548565b145b8015610fc55750612710856102c00151115b15610fe357604051635030d31360e11b815260040160405180910390fd5b6000856101c0015111801561100e57506000856101e00151600481111561100c5761100c614548565b145b1561102c5760405163788eae0d60e11b815260040160405180910390fd5b6000856101c0015111801561105757506001856101e00151600481111561105557611055614548565b145b80156110695750612710856101c00151115b156110875760405163a9824fd360e01b815260040160405180910390fd5b6000856101c0015111806110a057506000856101800151115b80156110c25750600085610200015160028111156110c0576110c0614548565b145b156110e057604051630f8edcbd60e01b815260040160405180910390fd5b600085610200015160028111156110f9576110f9614548565b1415801561110a5750610220850151155b156111275760405162e6267960e61b815260040160405180910390fd5b600085610160015111801561115257506000856101400151600181111561115057611150614548565b145b156111705760405163772cbc6d60e01b815260040160405180910390fd5b60008560c00151118015611199575060008560a00151600281111561119757611197614548565b145b156111b757604051638a46642d60e01b815260040160405180910390fd5b610280850151156111f8576000856102c0015111806111db57506000856103400151115b6111f857604051638dd5089b60e01b815260040160405180910390fd5b6000856102600151118061121157506000856102c00151115b8061122157506000856103400151115b156112be576000856102400151600281111561123f5761123f614548565b0361125d576040516317d70c1360e11b815260040160405180910390fd5b846102600151600003611283576040516310c1c29560e21b815260040160405180910390fd5b610280850151158015906112a05750846102800151856102600151115b156112be5760405163473f955b60e11b815260040160405180910390fd5b60008561016001511180156112e65750600085610260015111806112e6575060008560c00151115b1561136b5760608501511580156112ff57506020850151155b1561131d57604051630a942a3f60e41b815260040160405180910390fd5b8461026001518561016001511015801561134d57506001856102400151600281111561134b5761134b614548565b145b1561136b576040516307a6f80d60e21b815260040160405180910390fd5b60008561016001511180156113835750610260850151155b8015611391575060c0850151155b156113de5784606001516000036113bb576040516307d3ad8960e01b815260040160405180910390fd5b6020850151156113de5760405163682d022760e01b815260040160405180910390fd5b6101608501511580156113f657506000856102600151115b8015611406575060008560c00151115b1561142e5760608501511561142e5760405163682d022760e01b815260040160405180910390fd5b60008561026001511180611446575060008560c00151115b801561145457506020850151155b80156114635750610160850151155b156114815760405163015bdc8360e71b815260040160405180910390fd5b60008561026001511180611499575060008560c00151115b80156114a9575060008560200151115b80156114c35750846103800151806114c357508461010001515b80156114d457506000856101600151115b156114f25760405163011187e360e61b815260040160405180910390fd5b60008560c0015111801561150b57506000856102600151115b801561152d57506001856102400151600281111561152b5761152b614548565b145b801561154e575060018560a00151600281111561154c5761154c614548565b145b1561157c578461026001518560c001511061157c5760405163e70d136560e01b815260040160405180910390fd5b60008560c001511180156115a5575060028560a0015160028111156115a3576115a3614548565b145b156115d1576127108560c0015111156115d15760405163a1a6e45760e01b815260040160405180910390fd5b60008560c001511180156115ea57506000856101600151115b801561160b575060018560a00151600281111561160957611609614548565b145b15611639578461016001518560c001511061163957604051632a07240560e11b815260040160405180910390fd5b6127108560800151118061164f57506080850151155b1561166d5760405163249dae1160e01b815260040160405180910390fd5b6000856103400151118061168657506000856102c00151115b80156116a85750600185610300015160028111156116a6576116a6614548565b145b156116e35761032085015115806116c55750612710856103200151115b156116e3576040516315cb6b0b60e11b815260040160405180910390fd5b600085610340015111806116fc57506000856102c00151115b801561171e57506002856103000151600281111561171c5761171c614548565b145b801561172e575060008560200151115b801561174257508460200151856103200151115b15611760576040516309e7941360e41b815260040160405180910390fd5b6000856101800151118061177957506000856101c00151115b801561179b57506002856102000151600281111561179957611799614548565b145b80156117ab575060008560600151115b80156117bf57508460600151856102200151115b156117dd576040516309e7941360e41b815260040160405180910390fd5b600085610180015111806117f657506000856101c00151115b801561181857506001856102000151600281111561181657611816614548565b145b156118535761022085015115806118355750612710856102200151115b156118535760405163378f7ea360e01b815260040160405180910390fd5b6000856102a0015111801561187f57506002856102400151600281111561187c5761187c614548565b14155b1561189d5760405163018f017560e21b815260040160405180910390fd5b60008561012001511180156118c8575060028560a0015160028111156118c5576118c5614548565b14155b156118e657604051632ecab07960e11b815260040160405180910390fd5b6000856101e0015160048111156118ff576118ff614548565b1415801561191057506101c0850151155b1561192e576040516306535e0360e31b815260040160405180910390fd5b6000856102e00151600481111561194757611947614548565b1415801561195857506102c0850151155b15611976576040516306535e0360e31b815260040160405180910390fd5b6000856101a00151600281111561198f5761198f614548565b141580156119a05750610180850151155b156119be576040516306535e0360e31b815260040160405180910390fd5b600085610360015160028111156119d7576119d7614548565b141580156119e85750610340850151155b15611a06576040516306535e0360e31b815260040160405180910390fd5b60008560a001516002811115611a1e57611a1e614548565b14158015611a2e575060c0850151155b15611a4c576040516306535e0360e31b815260040160405180910390fd5b60008561024001516002811115611a6557611a65614548565b14158015611a765750610260850151155b15611a94576040516306535e0360e31b815260040160405180910390fd5b60008561014001516001811115611aad57611aad614548565b14158015611abe5750610160850151155b15611adc576040516306535e0360e31b815260040160405180910390fd5b6102c0850151158015611af25750610340850151155b8015611b0357506000856103200151115b15611b2157604051633c46227760e21b815260040160405180910390fd5b6101c0850151158015611b375750610180850151155b8015611b4857506000856102200151115b15611b6657604051633c46227760e21b815260040160405180910390fd5b600085600001516001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611baa573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bce9190614b25565b611bd990600a614c26565b905060008660200151118015611bf3575060008660600151115b15611c1157604051631dbe758760e11b815260040160405180910390fd5b602086015160009015611c3c5781858860200151611c2f9190614ad9565b611c399190614af0565b90505b606087015115611c4d575060608601515b602087015160009015611c5d5750845b600060018961030001516002811115611c7857611c78614548565b03611ca25761271089602001518a6103200151611c959190614ad9565b611c9f9190614af0565b90505b600060018a61020001516002811115611cbd57611cbd614548565b03611ce7576127108a606001518b6102200151611cda9190614ad9565b611ce49190614af0565b90505b6040518061020001604052808a6001600160a01b031681526020018b815260200183815260200182815260200160008411611d23576000611d29565b8b602001515b815260200160008311611d3d576000611d43565b8b606001515b81526020016000815260200160008152602001886001600160501b03168152602001876001600160501b03168152602001886001600160501b03168152602001876001600160501b031681526020018481526020016000815260200185815260200160006002811115611db857611db8614548565b905260058054600090815260066020818152604092839020855181546001600160a01b03199081166001600160a01b0392831617835587840151805160018086018054851692861692909217825595820151600280870191909155978201516003860180549094169416939093179091556060810151600484015560808101519683019690965560a08601519382018054929695919493909260ff1916918490811115611e6757611e67614548565b021790555060c0820151600682015560e08201516007820180546101008086015115150261ff00199315159390931661ffff1990911617919091179055610120820151600882015561014082015160098201805460ff191660018381811115611ed257611ed2614548565b0217905550610160820151600a820155610180820151600b8201556101a0820151600c8201805460ff19166001836002811115611f1157611f11614548565b02179055506101c0820151600d8201556101e0820151600e8201805460ff19166001836004811115611f4557611f45614548565b0217905550610200820151600e8201805461ff001916610100836002811115611f7057611f70614548565b0217905550610220820151600f82015561024082015160108201805460ff19166001836002811115611fa457611fa4614548565b0217905550610260820151601182015561028082015160128201556102a082015160138201556102c082015160148201556102e082015160158201805460ff19166001836004811115611ff957611ff9614548565b021790555061030082015160158201805461ff00191661010083600281111561202457612024614548565b02179055506103208201516016820155610340820151601782015561036082015160188201805460ff1916600183600281111561206357612063614548565b021790555061038082015160189190910180546103a08401516103c09094015162ffff0019909116610100931515840262ff000019161762010000941515949094029390931763ff0000001916630100000093151593909302929092179091556040830151601a8301556060830151601b8301556080830151601c83015560a0830151601d83015560c0830151601e83015560e0830151601f8301558201516020820180546101208501516101408601516001600160501b039485166001600160a01b031990931692909217600160501b918516919091021769ffffffffffffffffffff60a01b1916600160a01b9184169190910217905561016083015160218301805469ffffffffffffffffffff19169190921617905561018082015160228201556101a082015160238201556101c082015160248201556101e082015160258201805460ff191660018360028111156121c0576121c0614548565b02179055505060058054915060006121d7836148ff565b90915550506005546121eb90600190614b12565b7f6f487ff45e99dc63b7265bb895bcced153db9bd3cae13a82559397dee7f1bfc08a8c8a8a898e60405161222496959493929190614c35565b60405180910390a250505050505050505050565b60098054600091829160ff1916600183610b1e565b803515801561225e57506020810135155b801561226c57506080810135155b801561227a575060a0810135155b8015612288575060c0810135155b80156122b5575060006122a2610100830160e08401614c87565b60028111156122b3576122b3614548565b145b80156122c45750610100810135155b80156122d35750610120810135155b80156122e157506040810135155b80156122ef57506060810135155b80156122fe5750610140810135155b801561232c5750600061231961018083016101608401614c87565b600281111561232a5761232a614548565b145b801561234757506123456101a082016101808301614ca4565b155b801561236257506123606101c082016101a08301614ca4565b155b801561237d575061237b6101e082016101c08301614ca4565b155b801561238c57506101e0810135155b801561239b5750610260810135155b80156123aa5750610240810135155b80156123c557506123c361024082016102208301614ca4565b155b80156123e057506123de61022082016102008301614ca4565b155b156123fe57604051632995fef160e01b815260040160405180910390fd5b600082815260066020526040902080546001600160a01b0385811691161461243957604051632b5aad9f60e21b815260040160405180910390fd5b6000602582015460ff16600281111561245457612454614548565b146124725760405163432aa98d60e11b815260040160405180910390fd5b81351580159061248457506012810154155b156124a25760405163ae00bdd560e01b815260040160405180910390fd5b600082602001351180156124b85750600b810154155b156124d65760405163c5d53c0b60e01b815260040160405180910390fd5b600082608001351180156124ec57506007810154155b1561250a5760405163452234a560e11b815260040160405180910390fd5b60008260a00135118061252257506000826101200135115b801561253d5750601581015415801561253d57506018810154155b1561255b57604051634dcdad0d60e11b815260040160405180910390fd5b6015810154158015612571575060008260400135115b1561258f5760405163a741c3cf60e01b815260040160405180910390fd5b61271082604001351180156125bc57506001601682015460ff1660048111156125ba576125ba614548565b145b156125da5760405163a1a6e45760e01b815260040160405180910390fd5b6000826040013511801561262857506002601682015460ff16600481111561260457612604614548565b148061262857506001601682015460ff16600481111561262657612626614548565b145b1561263857604082013560158201555b6000826040013511801561268657506004601682015460ff16600481111561266257612662614548565b148061268657506003601682015460ff16600481111561268457612684614548565b145b1561269657604082013560158201555b600e8101541580156126ac575060008260600135115b156126ca57604051630121ca8160e11b815260040160405180910390fd5b61271082606001351180156126f757506001600f82015460ff1660048111156126f5576126f5614548565b145b156127155760405163a1a6e45760e01b815260040160405180910390fd5b6000826060013511801561276357506002600f82015460ff16600481111561273f5761273f614548565b148061276357506001600f82015460ff16600481111561276157612761614548565b145b15612773576060820135600e8201555b600082606001351180156127c157506004600f82015460ff16600481111561279d5761279d614548565b14806127c157506003600f82015460ff1660048111156127bf576127bf614548565b145b156127d1576060820135600e8201555b60008261010001351180156127f45750600e81015415806127f45750600c810154155b15612812576040516344d1f28560e11b815260040160405180910390fd5b60008260c00135118061284757506000612833610100840160e08501614c87565b600281111561284457612844614548565b14155b80156128555750600c810154155b156128735760405163634c458f60e11b815260040160405180910390fd5b600082610140013511806128aa5750600061289661018084016101608501614c87565b60028111156128a7576128a7614548565b14155b80156128b857506018810154155b156128d657604051635f2775bb60e01b815260040160405180910390fd5b612710826101e0013511156128fe5760405163249dae1160e01b815260040160405180910390fd5b6101e082013515612915576101e082013560058201555b60018101546003820154600091612938916001600160a01b039182169116613861565b50909150612950905061024084016102208501614ca4565b15156001036129ad57600b82015415612994576005820154612710906129769083614ad9565b6129809190614af0565b61298a90826148d6565b600b8301556129ad565b60405163c5d53c0b60e01b815260040160405180910390fd5b6129bf61022084016102008501614ca4565b1515600103612a42576012820154158015906129f357506001601183015460ff1660028111156129f1576129f1614548565b145b15612a2957600582015461271090612a0b9083614ad9565b612a159190614af0565b612a1f9082614b12565b6012830155612a42565b60405163ae00bdd560e01b815260040160405180910390fd5b612a5461024084016102208501614ca4565b15156001148015612a785750612a7261022084016102008501614ca4565b15156001145b15612a9657604051631e72c9e760e31b815260040160405180910390fd5b60008360800135118015612aae575060008360200135115b8015612ad257506001600683015460ff166002811115612ad057612ad0614548565b145b8015612ae15750600b82015415155b8015612af557508260200135836080013510155b15612b1357604051632a07240560e11b815260040160405180910390fd5b60008360800135118015612b3f57506001600683015460ff166002811115612b3d57612b3d614548565b145b8015612b4e5750600b82015415155b8015612b625750600b820154608084013510155b15612b8057604051632a07240560e11b815260040160405180910390fd5b60008360800135118015612bac57506002600683015460ff166002811115612baa57612baa614548565b145b15612be35761271083608001351115612bd85760405163a1a6e45760e01b815260040160405180910390fd5b608083013560078301555b60008360800135118015612bf75750823515155b8015612c1b57506001600683015460ff166002811115612c1957612c19614548565b145b8015612c2a5750601282015415155b8015612c4e57506001601183015460ff166002811115612c4c57612c4c614548565b145b8015612c5f57508235608084013510155b15612c7d5760405163e70d136560e01b815260040160405180910390fd5b823515801590612ca557506001600683015460ff166002811115612ca357612ca3614548565b145b8015612cb45750601282015415155b8015612cd857506001601183015460ff166002811115612cd657612cd6614548565b145b8015612ce957506007820154833511155b15612d075760405163e70d136560e01b815260040160405180910390fd5b60008360800135118015612d3357506001600683015460ff166002811115612d3157612d31614548565b145b8015612d425750601282015415155b8015612d6657506001601183015460ff166002811115612d6457612d64614548565b145b8015612d7a57506012820154608084013510155b15612d985760405163e70d136560e01b815260040160405180910390fd5b60008360200135118015612dac5750823515155b8015612dbb5750600b82015415155b8015612dca5750601282015415155b8015612dee57506001601183015460ff166002811115612dec57612dec614548565b145b8015612dff57508235602084013510155b15612e1d576040516307a6f80d60e21b815260040160405180910390fd5b60008360200135118015612e4957506001601183015460ff166002811115612e4757612e47614548565b145b8015612e6d57506001600a83015460ff166001811115612e6b57612e6b614548565b145b8015612e8157506012820154602084013510155b15612e9f576040516307a6f80d60e21b815260040160405180910390fd5b823515801590612eb25750600b82015415155b8015612ec15750601282015415155b8015612ee557506001601183015460ff166002811115612ee357612ee3614548565b145b8015612ef65750600b820154833511155b15612f14576040516307a6f80d60e21b815260040160405180910390fd5b600782015415801590612f3f57506001600683015460ff166002811115612f3d57612f3d614548565b145b8015612f4f575060008360800135115b15612f5f57608083013560078301555b600b82015415801590612f76575060008360200135115b15612f86576020830135600b8301555b601282015415801590612f995750823515155b15612fa657823560128301555b600c820154151580612fbb5750600e82015415155b8015612fe457506001600f830154610100900460ff166002811115612fe257612fe2614548565b145b1561301f5761010083013515806130015750612710836101000135115b1561301f5760405163378f7ea360e01b815260040160405180910390fd5b600c8201541515806130345750600e82015415155b801561305d57506002600f830154610100900460ff16600281111561305b5761305b614548565b145b801561306c5750600482015415155b801561308057506004820154610100840135115b1561309e576040516309e7941360e41b815260040160405180910390fd5b600e8201541515806130b35750600c82015415155b80156130c457506000836101000135115b156130d55761010083013560108301555b60188201541515806130ea5750601582015415155b8015613113575060016016830154610100900460ff16600281111561311157613111614548565b145b1561314e5761012083013515806131305750612710836101200135115b1561314e576040516315cb6b0b60e11b815260040160405180910390fd5b60188201541515806131635750601582015415155b801561318c575060026016830154610100900460ff16600281111561318a5761318a614548565b145b801561319b5750600282015415155b80156131af57506002820154610120840135115b156131cd576040516309e7941360e41b815260040160405180910390fd5b60008361024001351180156131fb57506002600683015460ff1660028111156131f8576131f8614548565b14155b1561321957604051632ecab07960e11b815260040160405180910390fd5b600083610260013511801561324757506002601183015460ff16600281111561324457613244614548565b14155b156132655760405163018f017560e21b815260040160405180910390fd5b6102408301351561327c5761024083013560098301555b610260830135156132935761026083013560148301555b60158201541515806132a85750601882015415155b80156132b957506000836101200135115b156132ca5761012083013560178301555b600c820154158015906133285750600c82015460c08401351415806133285750600d82015460ff16600281111561330357613303614548565b613314610100850160e08601614c87565b600281111561332557613325614548565b14155b156133955760c0830135600c830155600061334a610100850160e08601614c87565b600281111561335b5761335b614548565b1461339557613371610100840160e08501614c87565b600d8301805460ff1916600183600281111561338f5761338f614548565b02179055505b6018820154158015906133f5575060188201546101408401351415806133f55750601982015460ff1660028111156133cf576133cf614548565b6133e161018085016101608601614c87565b60028111156133f2576133f2614548565b14155b156134b957610140830135156134115761014083013560188301555b601982015460ff16600281111561342a5761342a614548565b61343c61018085016101608601614c87565b600281111561344d5761344d614548565b1415801561347e5750600061346a61018085016101608601614c87565b600281111561347b5761347b614548565b14155b156134b95761349561018084016101608501614c87565b60198301805460ff191660018360028111156134b3576134b3614548565b02179055505b6134cb6101a084016101808501614ca4565b156134ee5760198201805461ff001981166101009182900460ff16159091021790555b6135006101c084016101a08501614ca4565b1561351a5760088201805460ff19811660ff909116151790555b61352c6101e084016101c08501614ca4565b1561354f5760088201805461ff001981166101009182900460ff16159091021790555b60a08301351561358b57601582015415801561356d57506018820154155b1561358b57604051638dd5089b60e01b815260040160405180910390fd5b60158201541515806135a05750601882015415155b156135dd5760a0830135158015906135bf5750601282015460a0840135105b156135dd5760405163473f955b60e11b815260040160405180910390fd5b60a0830135156135f25760a083013560138301555b6101008301351561362457601d82015460108301546127109161361491614ad9565b61361e9190614af0565b601b8301555b6101208301351561365657601c82015460178301546127109161364691614ad9565b6136509190614af0565b601a8301555b837fd214548c137217ee863b73f8586ae9c2b1ca0bde3e615e7ed7926dfcaf47dfee836001016040516136899190614cbf565b60405180910390a25050505050565b6040517f19457468657265756d205369676e6564204d6573736167653a0a3332000000006020820152603c8101829052600090605c01604051602081830303815290604052805190602001209050919050565b6000806000806136fa85613bca565b6040805160008152602081018083528b905260ff8316918101919091526060810184905260808101839052929550909350915060019060a0016020604051602081039080840390855afa158015613755573d6000803e3d6000fd5b5050506020604051035193505050505b92915050565b600081815260066020526040902080546001600160a01b038481169116146137a657604051630332420960e01b815260040160405180910390fd5b6001602582015460ff1660028111156137c1576137c1614548565b036137df576040516354e3762560e01b815260040160405180910390fd5b60258101805460ff19166001908117909155810154600090613809906001600160a01b0316613c42565b6003830154909150600090613826906001600160a01b0316613c42565b604080518481526020810183905291925085917f8b59944fefbac177fb9b4127d4d37da2d50b72e4d47b82e54a81945b166c62cd9101613689565b60095460009081908190819061010090046001600160a01b0316801561394357600080826001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa1580156138c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906138e69190614ece565b50919450925050821590508061390e5760405162032b3d60e81b815260040160405180910390fd5b600061391a8342614b12565b9050610e10811161393e5760405163d15f73b560e01b815260040160405180910390fd5b505050505b6001600160a01b03878116600090815260078401602052604090205416158061398657506001600160a01b03868116600090815260078401602052604090205416155b156139a457604051637d53846960e11b815260040160405180910390fd5b6001600160a01b038088166000908152600784016020526040808220548151633fabe5a360e21b81529151929384938493929091169163feaf968c9160048083019260a09291908290030181865afa158015613a04573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613a289190614ece565b506001600160a01b03808e16600090815260078b016020526040808220548151633fabe5a360e21b81529151979a509598509296509485948594509091169163feaf968c9160048083019260a09291908290030181865afa158015613a91573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613ab59190614ece565b50935050925092508460001480613aca575081155b15613ae75760405162bfc92160e01b815260040160405180910390fd5b600a880154613af68542614b12565b1180613b0e5750600a880154613b0c8242614b12565b115b15613b2c57604051632d07c67360e01b815260040160405180910390fd5b60008c6001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015613b6c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613b909190614b25565b60ff16905082613ba182600a614f1e565b613bab9088614ad9565b613bb59190614af0565b9e969d50929b50949950505050505050505050565b60008060008351604114613c245760405162461bcd60e51b815260206004820152601860248201527f696e76616c6964207369676e6174757265206c656e6774680000000000000000604482015260640160405180910390fd5b50505060208101516040820151606090920151909260009190911a90565b6001600160a01b038181166000908152600760205260408120549091829116613c7e57604051637d53846960e11b815260040160405180910390fd5b6001600160a01b038084166000908152600783016020526040808220548151633fabe5a360e21b815291519293169163feaf968c9160048082019260a0929091908290030181865afa158015613cd8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613cfc9190614ece565b50505091505080600003613d225760405162bfc92160e01b815260040160405180910390fd5b9392505050565b60405180610200016040528060006001600160a01b03168152602001613d4d613de9565b815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160501b0316815260200160006001600160501b0316815260200160006001600160501b0316815260200160006001600160501b0316815260200160008152602001600081526020016000815260200160006002811115613de457613de4614548565b905290565b604080516103e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101829052610100810182905261012081018290526101408101829052610160810182905261018081018290526101a081018290526101c081018290526101e08101829052610200810182905261022081018290529061024082019081526020016000815260200160008152602001600081526020016000815260200160006004811115613eb457613eb4614548565b815260200160008152602001600081526020016000815260200160006002811115613ee157613ee1614548565b81526000602082018190526040820181905260609091015290565b634e487b7160e01b600052604160045260246000fd5b6040516103e0810167ffffffffffffffff81118282101715613f3657613f36613efc565b60405290565b604051610100810167ffffffffffffffff81118282101715613f3657613f36613efc565b604051601f8201601f1916810167ffffffffffffffff81118282101715613f8957613f89613efc565b604052919050565b80356001600160a01b0381168114613fa857600080fd5b919050565b600381106101ac57600080fd5b8035613fa881613fad565b80358015158114613fa857600080fd5b803560028110613fa857600080fd5b803560058110613fa857600080fd5b60006103e0828403121561400657600080fd5b61400e613f12565b905061401982613f91565b81526020820135602082015261403160408301613f91565b6040820152606082013560608201526080820135608082015261405660a08301613fba565b60a082015260c082013560c082015261407160e08301613fc5565b60e0820152610100614084818401613fc5565b9082015261012082810135908201526101406140a1818401613fd5565b90820152610160828101359082015261018080830135908201526101a06140c9818401613fba565b908201526101c082810135908201526101e06140e6818401613fe4565b908201526102006140f8838201613fba565b908201526102208281013590820152610240614115818401613fba565b90820152610260828101359082015261028080830135908201526102a080830135908201526102c080830135908201526102e0614153818401613fe4565b90820152610300614165838201613fba565b908201526103208281013590820152610340808301359082015261036061418d818401613fba565b9082015261038061419f838201613fc5565b908201526103a06141b1838201613fc5565b908201526103c06141c3838201613fc5565b9082015292915050565b60006103e082840312156141e057600080fd5b613d228383613ff3565b600061028082840312156141fd57600080fd5b50919050565b6000806102a0838503121561421757600080fd5b8235915061422884602085016141ea565b90509250929050565b600082601f83011261424257600080fd5b813567ffffffffffffffff81111561425c5761425c613efc565b61426f601f8201601f1916602001613f60565b81815284602083860101111561428457600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080608085870312156142b757600080fd5b8435935060208501359250604085013567ffffffffffffffff8111156142dc57600080fd5b6142e887828801614231565b9250506142f760608601613f91565b905092959194509250565b60ff811681146101ac57600080fd5b6000806000806000610460868803121561432a57600080fd5b853567ffffffffffffffff8082111561434257600080fd5b818801915088601f83011261435657600080fd5b813560208282111561436a5761436a613efc565b614378818360051b01613f60565b82815260089290921b8401810191818101908c84111561439757600080fd5b948201945b8386101561443657610100868e0312156143b65760008081fd5b6143be613f3c565b6143c787613f91565b81526143d4848801613f91565b8482015260406143e5818901613f91565b90820152606087810135908201526080808801359082015260a08088013561440c81614302565b9082015260c0878101359082015260e080880135908201528252610100909501949082019061439c565b995061444690508b8b8301613ff3565b975050506144576104008901613f91565b9450610420880135935061044088013591508082111561447657600080fd5b5061448388828901614231565b9150509295509295909350565b6000806000606084860312156144a557600080fd5b83359250602084013591506144bc60408501613f91565b90509250925092565b600080600080600061030086880312156144de57600080fd5b853594506144ef87602088016141ea565b93506144fe6102a08701613f91565b92506102c086013591506102e086013567ffffffffffffffff81111561452357600080fd5b61448388828901614231565b60006020828403121561454157600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6003811061456e5761456e614548565b9052565b6002811061456e5761456e614548565b6005811061456e5761456e614548565b80516001600160a01b031682526020810151602083015260408101516145c360408401826001600160a01b03169052565b50606081015160608301526080810151608083015260a08101516145ea60a084018261455e565b5060c081015160c083015260e081015161460860e084018215159052565b506101008181015115159083015261012080820151908301526101408082015161463482850182614572565b5050610160818101519083015261018080820151908301526101a08082015161465f8285018261455e565b50506101c081810151908301526101e08082015161467f82850182614582565b5050610200808201516146948285018261455e565b50506102208181015190830152610240808201516146b48285018261455e565b5050610260818101519083015261028080820151908301526102a080820151908301526102c080820151908301526102e0808201516146f582850182614582565b50506103008082015161470a8285018261455e565b505061032081810151908301526103408082015190830152610360808201516147358285018261455e565b5050610380818101511515908301526103a0808201511515908301526103c080820151801515828501526102af565b81516001600160a01b031681526105c0810160208301516147886020840182614592565b5060408301516104008301526060830151610420830152608083015161044083015260a083015161046083015260c083015161048083015260e08301516104a08301526101008301516001600160501b039081166104c084015261012084015181166104e08401526101408401518116610500840152610160840151166105208301526101808301516105408301526101a08301516105608301526101c08301516105808301526101e08301516148436105a084018261455e565b5092915050565b6000806000610420848603121561486057600080fd5b61486a8585613ff3565b92506103e084013591506144bc6104008501613f91565b6000806000806102e0858703121561489857600080fd5b843593506148a986602087016141ea565b92506102a085013591506142f76102c08601613f91565b634e487b7160e01b600052601160045260246000fd5b80820180821115613765576137656148c0565b634e487b7160e01b600052603260045260246000fd5b600060018201614911576149116148c0565b5060010190565b6001600160a01b038516815260208101849052610440810161493d6040830185614592565b8261042083015295945050505050565b60006103008201905060018060a01b03871682528560208301528460408301528335606083015260208401356080830152604084013560a0830152606084013560c0830152608084013560e083015261010060a08501358184015261012060c0860135818501526149c060e08701613fba565b6101406149cf8187018361455e565b61016091508388013582870152610180935082880135848701526101a09250808801358387015250614a02818801613fba565b90506101c0614a138187018361455e565b614a1e848901613fc5565b93506101e09150614a328287018515159052565b614a3d838901613fc5565b93506102009250614a518387018515159052565b614a5c818901613fc5565b935050610220614a6f8187018515159052565b61024093508188013584870152614a87838901613fc5565b92506102609150614a9b8287018415159052565b614aa6818901613fc5565b925050614ab861028086018315159052565b918601356102a085015250909301356102c08201526102e001529392505050565b8082028115828204841417613765576137656148c0565b600082614b0d57634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115613765576137656148c0565b600060208284031215614b3757600080fd5b8151613d2281614302565b600181815b80851115614b7d578160001904821115614b6357614b636148c0565b80851615614b7057918102915b93841c9390800290614b47565b509250929050565b600082614b9457506001613765565b81614ba157506000613765565b8160018114614bb75760028114614bc157614bdd565b6001915050613765565b60ff841115614bd257614bd26148c0565b50506001821b613765565b5060208310610133831016604e8410600b8410161715614c00575081810a613765565b614c0a8383614b42565b8060001904821115614c1e57614c1e6148c0565b029392505050565b6000613d2260ff841683614b85565b6001600160a01b03871681526104808101614c536020830188614592565b6001600160501b03808716610400840152808616610420840152508361044083015282610460830152979650505050505050565b600060208284031215614c9957600080fd5b8135613d2281613fad565b600060208284031215614cb657600080fd5b613d2282613fc5565b81546001600160a01b031681526103e081016001830154602083015260028301546001600160a01b031660408301526003830154606083015260048301546080830152600583015460ff16614d1760a084018261455e565b50600683015460c0830152600783015460ff808216151560e0850152614d476101008501828460081c1615159052565b6008850154610120850152600985015460ff169150614d6a610140850183614572565b600a850154610160850152600b850154610180850152600c85015460ff169150614d986101a085018361455e565b600d8501546101c0850152600e8501549150614dba6101e08501828416614582565b614dcd6102008501828460081c1661455e565b600f850154610220850152601085015460ff169150614df061024085018361455e565b6011850154610260850152601285015461028085015260138501546102a085015260148501546102c085015260158501549150614e336102e08501828416614582565b614e466103008501828460081c1661455e565b6016850154610320850152601785015461034085015260188501549150614e73610360850182841661455e565b614e876103808501828460081c1615159052565b614e9b6103a08501828460101c1615159052565b614eaf6103c08501828460181c1615159052565b505092915050565b80516001600160501b0381168114613fa857600080fd5b600080600080600060a08688031215614ee657600080fd5b614eef86614eb7565b9450602086015193506040860151925060608601519150614f1260808701614eb7565b90509295509295909350565b6000613d228383614b8556fea26469706673582212208961faf2c36d575ac69f2ffbe80be51e7a1f6b41a57caa5ec4cf60c016c37dab64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c806366d372df1161007157806366d372df146101135780638dce189714610126578063cfc0cc3414610139578063e502f6c714610159578063e819da351461016c578063ffc24bf51461017f57600080fd5b8063185f8447146100ae578063223bec6b146100c557806330c9943d146100da57806351becab2146100ed578063600949f514610100575b600080fd5b6005545b6040519081526020015b60405180910390f35b6100d86100d33660046141cd565b610192565b005b6100d86100e8366004614203565b6101af565b6100d86100fb3660046142a1565b6101ce565b6100d861010e366004614311565b6102b5565b6100b2610121366004614490565b61054b565b6100d86101343660046144c5565b610597565b61014c61014736600461452f565b61066f565b6040516100bc9190614764565b6100b261016736600461484a565b610a6c565b6100b261017a366004614881565b610a85565b6100d861018d36600461452f565b610ac0565b61019a610ad2565b6101a48133610b26565b6101ac612238565b50565b6101b7610ad2565b6101c233838361224d565b6101ca612238565b5050565b6101d6610ad2565b6001600160a01b038116600090815260086020526040902054831461020e57604051633ab3447f60e11b815260040160405180910390fd5b600061021b85858461054b565b9050600061022882613698565b9050600061023682866136eb565b6001600160a01b03851660009081526008602052604090205490915061025d9060016148d6565b6001600160a01b0380861660008181526008602052604090209290925582161461029a57604051632057875960e21b815260040160405180910390fd5b6102a4848861376b565b5050506102af612238565b50505050565b6102bd610ad2565b60005b855181101561046a578581815181106102db576102db6148e9565b6020026020010151600001516001600160a01b031663d505accf878381518110610307576103076148e9565b602002602001015160200151888481518110610325576103256148e9565b602002602001015160400151898581518110610343576103436148e9565b6020026020010151606001518a8681518110610361576103616148e9565b6020026020010151608001518b878151811061037f5761037f6148e9565b602002602001015160a001518c888151811061039d5761039d6148e9565b602002602001015160c001518d89815181106103bb576103bb6148e9565b602002602001015160e001516040518863ffffffff1660e01b815260040161042597969594939291906001600160a01b0397881681529590961660208601526040850193909352606084019190915260ff16608083015260a082015260c081019190915260e00190565b600060405180830381600087803b15801561043f57600080fd5b505af1158015610453573d6000803e3d6000fd5b505050508080610462906148ff565b9150506102c0565b506001600160a01b03831660009081526008602052604090205482146104a357604051633ab3447f60e11b815260040160405180910390fd5b60006104b0858486610a6c565b905060006104bd82613698565b905060006104cb82856136eb565b6001600160a01b0387166000908152600860205260409020549091506104f29060016148d6565b6001600160a01b0380881660008181526008602052604090209290925582161461052f57604051632057875960e21b815260040160405180910390fd5b6105398787610b26565b505050610544612238565b5050505050565b604080516001600160a01b03831660208201529081018390526060810184905246608082015260009060a0015b6040516020818303038152906040528051906020012090509392505050565b61059f610ad2565b6001600160a01b03831660009081526008602052604090205482146105d757604051633ab3447f60e11b815260040160405180910390fd5b60006105e586868587610a85565b905060006105f282613698565b9050600061060082856136eb565b6001600160a01b0387166000908152600860205260409020549091506106279060016148d6565b6001600160a01b0380881660008181526008602052604090209290925582161461066457604051632057875960e21b815260040160405180910390fd5b61053981898961224d565b610677613d29565b60008281526006602081815260409283902083516102008101855281546001600160a01b03908116825285516103e08101875260018401805483168252600280860154838801526003860154909316978201979097526004840154606082015260058401546080820152948301549195929493860193929160a084019160ff9091169081111561070957610709614548565b600281111561071a5761071a614548565b815260068201546020820152600782015460ff8082161515604084015261010090910481161515606083015260088301546080830152600983015460a09092019116600181111561076d5761076d614548565b600181111561077e5761077e614548565b8152600a8201546020820152600b8201546040820152600c82015460609091019060ff1660028111156107b3576107b3614548565b60028111156107c4576107c4614548565b8152600d8201546020820152600e82015460409091019060ff1660048111156107ef576107ef614548565b600481111561080057610800614548565b8152602001600e820160019054906101000a900460ff16600281111561082857610828614548565b600281111561083957610839614548565b8152600f8201546020820152601082015460409091019060ff16600281111561086457610864614548565b600281111561087557610875614548565b815260118201546020820152601282015460408201526013820154606082015260148201546080820152601582015460a09091019060ff1660048111156108be576108be614548565b60048111156108cf576108cf614548565b81526020016015820160019054906101000a900460ff1660028111156108f7576108f7614548565b600281111561090857610908614548565b81526016820154602082015260178201546040820152601882015460609091019060ff16600281111561093d5761093d614548565b600281111561094e5761094e614548565b81526018919091015461010080820460ff908116151560208086019190915262010000840482161515604080870191909152630100000090940482161515606095860152948652601a87015486860152601b87015492860192909252601c86015492850192909252601d8501546080850152601e85015460a0850152601f85015460c0850152918401546001600160501b0380821660e0860152600160501b8204811692850192909252600160a01b900481166101208401526021840154166101408301526022830154610160830152602383015461018083015260248301546101a083015260258301546101c090920191166002811115610a5257610a52614548565b6002811115610a6357610a63614548565b90525092915050565b6000818385466040516020016105789493929190614918565b60008183868646604051602001610aa095949392919061494d565b604051602081830303815290604052805190602001209050949350505050565b610ac8610ad2565b6101a4338261376b565b60006001600982015460ff166001811115610aef57610aef614548565b03610b0d57604051633ee5aeb560e01b815260040160405180910390fd5b6009810180546001919060ff191682805b021790555050565b81516001600160a01b0316610b4e57604051634700286b60e01b815260040160405180910390fd5b60408201516001600160a01b0316610b79576040516312848d8760e11b815260040160405180910390fd5b81604001516001600160a01b031682600001516001600160a01b031603610bb35760405163a755ce0160e01b815260040160405180910390fd5b6000806000610bca85600001518660400151613861565b925092509250846103c0015115156001151503610c17576001610140860152608085015161271090610bfc9085614ad9565b610c069190614af0565b610c1090846148d6565b6101608601525b6103a08501511515600103610c5c576001610240860152608085015161271090610c419085614ad9565b610c4b9190614af0565b610c559084614b12565b6102608601525b6103c085015115156001148015610c7a57506103a085015115156001145b15610cbe57602085015115610ca6576001856102600151610c9b9190614b12565b610160860152610cbe565b610160850151610cb79060016148d6565b6102608601525b60c0850151158015610cd35750610260850151155b8015610ce25750610160850151155b15610d0057604051631faf5bf560e01b815260040160405180910390fd5b6000856101600151118015610d1a57506000856101800151115b8015610d2b57506000856101c00151115b15610d4957604051636aadef8760e01b815260040160405180910390fd5b60008561018001511180610d6257506000856101c00151115b8015610d715750610160850151155b15610d8f5760405163c14db2a960e01b815260040160405180910390fd5b6000856101800151118015610dba57506000856101a001516002811115610db857610db8614548565b145b15610dd8576040516312100f4f60e11b815260040160405180910390fd5b6000856103400151118015610df257506000856102c00151115b15610e10576040516302960e3f60e41b815260040160405180910390fd5b60008561034001511180610e2957506000856102c00151115b8015610e385750610260850151155b15610e555760405162b4fc9f60e61b815260040160405180910390fd5b6000856103400151118015610e80575060008561036001516002811115610e7e57610e7e614548565b145b15610e9e576040516340d3c82560e01b815260040160405180910390fd5b60008561034001511180610eb757506000856102c00151115b8015610ed9575060008561030001516002811115610ed757610ed7614548565b145b15610ef757604051633229152160e11b815260040160405180910390fd5b60008561030001516002811115610f1057610f10614548565b14158015610f215750610320850151155b15610f3f57604051635b06ca5560e11b815260040160405180910390fd5b6000856102c00151118015610f6a57506000856102e001516004811115610f6857610f68614548565b145b15610f8857604051632808ffb560e01b815260040160405180910390fd5b6000856102c00151118015610fb357506001856102e001516004811115610fb157610fb1614548565b145b8015610fc55750612710856102c00151115b15610fe357604051635030d31360e11b815260040160405180910390fd5b6000856101c0015111801561100e57506000856101e00151600481111561100c5761100c614548565b145b1561102c5760405163788eae0d60e11b815260040160405180910390fd5b6000856101c0015111801561105757506001856101e00151600481111561105557611055614548565b145b80156110695750612710856101c00151115b156110875760405163a9824fd360e01b815260040160405180910390fd5b6000856101c0015111806110a057506000856101800151115b80156110c25750600085610200015160028111156110c0576110c0614548565b145b156110e057604051630f8edcbd60e01b815260040160405180910390fd5b600085610200015160028111156110f9576110f9614548565b1415801561110a5750610220850151155b156111275760405162e6267960e61b815260040160405180910390fd5b600085610160015111801561115257506000856101400151600181111561115057611150614548565b145b156111705760405163772cbc6d60e01b815260040160405180910390fd5b60008560c00151118015611199575060008560a00151600281111561119757611197614548565b145b156111b757604051638a46642d60e01b815260040160405180910390fd5b610280850151156111f8576000856102c0015111806111db57506000856103400151115b6111f857604051638dd5089b60e01b815260040160405180910390fd5b6000856102600151118061121157506000856102c00151115b8061122157506000856103400151115b156112be576000856102400151600281111561123f5761123f614548565b0361125d576040516317d70c1360e11b815260040160405180910390fd5b846102600151600003611283576040516310c1c29560e21b815260040160405180910390fd5b610280850151158015906112a05750846102800151856102600151115b156112be5760405163473f955b60e11b815260040160405180910390fd5b60008561016001511180156112e65750600085610260015111806112e6575060008560c00151115b1561136b5760608501511580156112ff57506020850151155b1561131d57604051630a942a3f60e41b815260040160405180910390fd5b8461026001518561016001511015801561134d57506001856102400151600281111561134b5761134b614548565b145b1561136b576040516307a6f80d60e21b815260040160405180910390fd5b60008561016001511180156113835750610260850151155b8015611391575060c0850151155b156113de5784606001516000036113bb576040516307d3ad8960e01b815260040160405180910390fd5b6020850151156113de5760405163682d022760e01b815260040160405180910390fd5b6101608501511580156113f657506000856102600151115b8015611406575060008560c00151115b1561142e5760608501511561142e5760405163682d022760e01b815260040160405180910390fd5b60008561026001511180611446575060008560c00151115b801561145457506020850151155b80156114635750610160850151155b156114815760405163015bdc8360e71b815260040160405180910390fd5b60008561026001511180611499575060008560c00151115b80156114a9575060008560200151115b80156114c35750846103800151806114c357508461010001515b80156114d457506000856101600151115b156114f25760405163011187e360e61b815260040160405180910390fd5b60008560c0015111801561150b57506000856102600151115b801561152d57506001856102400151600281111561152b5761152b614548565b145b801561154e575060018560a00151600281111561154c5761154c614548565b145b1561157c578461026001518560c001511061157c5760405163e70d136560e01b815260040160405180910390fd5b60008560c001511180156115a5575060028560a0015160028111156115a3576115a3614548565b145b156115d1576127108560c0015111156115d15760405163a1a6e45760e01b815260040160405180910390fd5b60008560c001511180156115ea57506000856101600151115b801561160b575060018560a00151600281111561160957611609614548565b145b15611639578461016001518560c001511061163957604051632a07240560e11b815260040160405180910390fd5b6127108560800151118061164f57506080850151155b1561166d5760405163249dae1160e01b815260040160405180910390fd5b6000856103400151118061168657506000856102c00151115b80156116a85750600185610300015160028111156116a6576116a6614548565b145b156116e35761032085015115806116c55750612710856103200151115b156116e3576040516315cb6b0b60e11b815260040160405180910390fd5b600085610340015111806116fc57506000856102c00151115b801561171e57506002856103000151600281111561171c5761171c614548565b145b801561172e575060008560200151115b801561174257508460200151856103200151115b15611760576040516309e7941360e41b815260040160405180910390fd5b6000856101800151118061177957506000856101c00151115b801561179b57506002856102000151600281111561179957611799614548565b145b80156117ab575060008560600151115b80156117bf57508460600151856102200151115b156117dd576040516309e7941360e41b815260040160405180910390fd5b600085610180015111806117f657506000856101c00151115b801561181857506001856102000151600281111561181657611816614548565b145b156118535761022085015115806118355750612710856102200151115b156118535760405163378f7ea360e01b815260040160405180910390fd5b6000856102a0015111801561187f57506002856102400151600281111561187c5761187c614548565b14155b1561189d5760405163018f017560e21b815260040160405180910390fd5b60008561012001511180156118c8575060028560a0015160028111156118c5576118c5614548565b14155b156118e657604051632ecab07960e11b815260040160405180910390fd5b6000856101e0015160048111156118ff576118ff614548565b1415801561191057506101c0850151155b1561192e576040516306535e0360e31b815260040160405180910390fd5b6000856102e00151600481111561194757611947614548565b1415801561195857506102c0850151155b15611976576040516306535e0360e31b815260040160405180910390fd5b6000856101a00151600281111561198f5761198f614548565b141580156119a05750610180850151155b156119be576040516306535e0360e31b815260040160405180910390fd5b600085610360015160028111156119d7576119d7614548565b141580156119e85750610340850151155b15611a06576040516306535e0360e31b815260040160405180910390fd5b60008560a001516002811115611a1e57611a1e614548565b14158015611a2e575060c0850151155b15611a4c576040516306535e0360e31b815260040160405180910390fd5b60008561024001516002811115611a6557611a65614548565b14158015611a765750610260850151155b15611a94576040516306535e0360e31b815260040160405180910390fd5b60008561014001516001811115611aad57611aad614548565b14158015611abe5750610160850151155b15611adc576040516306535e0360e31b815260040160405180910390fd5b6102c0850151158015611af25750610340850151155b8015611b0357506000856103200151115b15611b2157604051633c46227760e21b815260040160405180910390fd5b6101c0850151158015611b375750610180850151155b8015611b4857506000856102200151115b15611b6657604051633c46227760e21b815260040160405180910390fd5b600085600001516001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015611baa573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bce9190614b25565b611bd990600a614c26565b905060008660200151118015611bf3575060008660600151115b15611c1157604051631dbe758760e11b815260040160405180910390fd5b602086015160009015611c3c5781858860200151611c2f9190614ad9565b611c399190614af0565b90505b606087015115611c4d575060608601515b602087015160009015611c5d5750845b600060018961030001516002811115611c7857611c78614548565b03611ca25761271089602001518a6103200151611c959190614ad9565b611c9f9190614af0565b90505b600060018a61020001516002811115611cbd57611cbd614548565b03611ce7576127108a606001518b6102200151611cda9190614ad9565b611ce49190614af0565b90505b6040518061020001604052808a6001600160a01b031681526020018b815260200183815260200182815260200160008411611d23576000611d29565b8b602001515b815260200160008311611d3d576000611d43565b8b606001515b81526020016000815260200160008152602001886001600160501b03168152602001876001600160501b03168152602001886001600160501b03168152602001876001600160501b031681526020018481526020016000815260200185815260200160006002811115611db857611db8614548565b905260058054600090815260066020818152604092839020855181546001600160a01b03199081166001600160a01b0392831617835587840151805160018086018054851692861692909217825595820151600280870191909155978201516003860180549094169416939093179091556060810151600484015560808101519683019690965560a08601519382018054929695919493909260ff1916918490811115611e6757611e67614548565b021790555060c0820151600682015560e08201516007820180546101008086015115150261ff00199315159390931661ffff1990911617919091179055610120820151600882015561014082015160098201805460ff191660018381811115611ed257611ed2614548565b0217905550610160820151600a820155610180820151600b8201556101a0820151600c8201805460ff19166001836002811115611f1157611f11614548565b02179055506101c0820151600d8201556101e0820151600e8201805460ff19166001836004811115611f4557611f45614548565b0217905550610200820151600e8201805461ff001916610100836002811115611f7057611f70614548565b0217905550610220820151600f82015561024082015160108201805460ff19166001836002811115611fa457611fa4614548565b0217905550610260820151601182015561028082015160128201556102a082015160138201556102c082015160148201556102e082015160158201805460ff19166001836004811115611ff957611ff9614548565b021790555061030082015160158201805461ff00191661010083600281111561202457612024614548565b02179055506103208201516016820155610340820151601782015561036082015160188201805460ff1916600183600281111561206357612063614548565b021790555061038082015160189190910180546103a08401516103c09094015162ffff0019909116610100931515840262ff000019161762010000941515949094029390931763ff0000001916630100000093151593909302929092179091556040830151601a8301556060830151601b8301556080830151601c83015560a0830151601d83015560c0830151601e83015560e0830151601f8301558201516020820180546101208501516101408601516001600160501b039485166001600160a01b031990931692909217600160501b918516919091021769ffffffffffffffffffff60a01b1916600160a01b9184169190910217905561016083015160218301805469ffffffffffffffffffff19169190921617905561018082015160228201556101a082015160238201556101c082015160248201556101e082015160258201805460ff191660018360028111156121c0576121c0614548565b02179055505060058054915060006121d7836148ff565b90915550506005546121eb90600190614b12565b7f6f487ff45e99dc63b7265bb895bcced153db9bd3cae13a82559397dee7f1bfc08a8c8a8a898e60405161222496959493929190614c35565b60405180910390a250505050505050505050565b60098054600091829160ff1916600183610b1e565b803515801561225e57506020810135155b801561226c57506080810135155b801561227a575060a0810135155b8015612288575060c0810135155b80156122b5575060006122a2610100830160e08401614c87565b60028111156122b3576122b3614548565b145b80156122c45750610100810135155b80156122d35750610120810135155b80156122e157506040810135155b80156122ef57506060810135155b80156122fe5750610140810135155b801561232c5750600061231961018083016101608401614c87565b600281111561232a5761232a614548565b145b801561234757506123456101a082016101808301614ca4565b155b801561236257506123606101c082016101a08301614ca4565b155b801561237d575061237b6101e082016101c08301614ca4565b155b801561238c57506101e0810135155b801561239b5750610260810135155b80156123aa5750610240810135155b80156123c557506123c361024082016102208301614ca4565b155b80156123e057506123de61022082016102008301614ca4565b155b156123fe57604051632995fef160e01b815260040160405180910390fd5b600082815260066020526040902080546001600160a01b0385811691161461243957604051632b5aad9f60e21b815260040160405180910390fd5b6000602582015460ff16600281111561245457612454614548565b146124725760405163432aa98d60e11b815260040160405180910390fd5b81351580159061248457506012810154155b156124a25760405163ae00bdd560e01b815260040160405180910390fd5b600082602001351180156124b85750600b810154155b156124d65760405163c5d53c0b60e01b815260040160405180910390fd5b600082608001351180156124ec57506007810154155b1561250a5760405163452234a560e11b815260040160405180910390fd5b60008260a00135118061252257506000826101200135115b801561253d5750601581015415801561253d57506018810154155b1561255b57604051634dcdad0d60e11b815260040160405180910390fd5b6015810154158015612571575060008260400135115b1561258f5760405163a741c3cf60e01b815260040160405180910390fd5b61271082604001351180156125bc57506001601682015460ff1660048111156125ba576125ba614548565b145b156125da5760405163a1a6e45760e01b815260040160405180910390fd5b6000826040013511801561262857506002601682015460ff16600481111561260457612604614548565b148061262857506001601682015460ff16600481111561262657612626614548565b145b1561263857604082013560158201555b6000826040013511801561268657506004601682015460ff16600481111561266257612662614548565b148061268657506003601682015460ff16600481111561268457612684614548565b145b1561269657604082013560158201555b600e8101541580156126ac575060008260600135115b156126ca57604051630121ca8160e11b815260040160405180910390fd5b61271082606001351180156126f757506001600f82015460ff1660048111156126f5576126f5614548565b145b156127155760405163a1a6e45760e01b815260040160405180910390fd5b6000826060013511801561276357506002600f82015460ff16600481111561273f5761273f614548565b148061276357506001600f82015460ff16600481111561276157612761614548565b145b15612773576060820135600e8201555b600082606001351180156127c157506004600f82015460ff16600481111561279d5761279d614548565b14806127c157506003600f82015460ff1660048111156127bf576127bf614548565b145b156127d1576060820135600e8201555b60008261010001351180156127f45750600e81015415806127f45750600c810154155b15612812576040516344d1f28560e11b815260040160405180910390fd5b60008260c00135118061284757506000612833610100840160e08501614c87565b600281111561284457612844614548565b14155b80156128555750600c810154155b156128735760405163634c458f60e11b815260040160405180910390fd5b600082610140013511806128aa5750600061289661018084016101608501614c87565b60028111156128a7576128a7614548565b14155b80156128b857506018810154155b156128d657604051635f2775bb60e01b815260040160405180910390fd5b612710826101e0013511156128fe5760405163249dae1160e01b815260040160405180910390fd5b6101e082013515612915576101e082013560058201555b60018101546003820154600091612938916001600160a01b039182169116613861565b50909150612950905061024084016102208501614ca4565b15156001036129ad57600b82015415612994576005820154612710906129769083614ad9565b6129809190614af0565b61298a90826148d6565b600b8301556129ad565b60405163c5d53c0b60e01b815260040160405180910390fd5b6129bf61022084016102008501614ca4565b1515600103612a42576012820154158015906129f357506001601183015460ff1660028111156129f1576129f1614548565b145b15612a2957600582015461271090612a0b9083614ad9565b612a159190614af0565b612a1f9082614b12565b6012830155612a42565b60405163ae00bdd560e01b815260040160405180910390fd5b612a5461024084016102208501614ca4565b15156001148015612a785750612a7261022084016102008501614ca4565b15156001145b15612a9657604051631e72c9e760e31b815260040160405180910390fd5b60008360800135118015612aae575060008360200135115b8015612ad257506001600683015460ff166002811115612ad057612ad0614548565b145b8015612ae15750600b82015415155b8015612af557508260200135836080013510155b15612b1357604051632a07240560e11b815260040160405180910390fd5b60008360800135118015612b3f57506001600683015460ff166002811115612b3d57612b3d614548565b145b8015612b4e5750600b82015415155b8015612b625750600b820154608084013510155b15612b8057604051632a07240560e11b815260040160405180910390fd5b60008360800135118015612bac57506002600683015460ff166002811115612baa57612baa614548565b145b15612be35761271083608001351115612bd85760405163a1a6e45760e01b815260040160405180910390fd5b608083013560078301555b60008360800135118015612bf75750823515155b8015612c1b57506001600683015460ff166002811115612c1957612c19614548565b145b8015612c2a5750601282015415155b8015612c4e57506001601183015460ff166002811115612c4c57612c4c614548565b145b8015612c5f57508235608084013510155b15612c7d5760405163e70d136560e01b815260040160405180910390fd5b823515801590612ca557506001600683015460ff166002811115612ca357612ca3614548565b145b8015612cb45750601282015415155b8015612cd857506001601183015460ff166002811115612cd657612cd6614548565b145b8015612ce957506007820154833511155b15612d075760405163e70d136560e01b815260040160405180910390fd5b60008360800135118015612d3357506001600683015460ff166002811115612d3157612d31614548565b145b8015612d425750601282015415155b8015612d6657506001601183015460ff166002811115612d6457612d64614548565b145b8015612d7a57506012820154608084013510155b15612d985760405163e70d136560e01b815260040160405180910390fd5b60008360200135118015612dac5750823515155b8015612dbb5750600b82015415155b8015612dca5750601282015415155b8015612dee57506001601183015460ff166002811115612dec57612dec614548565b145b8015612dff57508235602084013510155b15612e1d576040516307a6f80d60e21b815260040160405180910390fd5b60008360200135118015612e4957506001601183015460ff166002811115612e4757612e47614548565b145b8015612e6d57506001600a83015460ff166001811115612e6b57612e6b614548565b145b8015612e8157506012820154602084013510155b15612e9f576040516307a6f80d60e21b815260040160405180910390fd5b823515801590612eb25750600b82015415155b8015612ec15750601282015415155b8015612ee557506001601183015460ff166002811115612ee357612ee3614548565b145b8015612ef65750600b820154833511155b15612f14576040516307a6f80d60e21b815260040160405180910390fd5b600782015415801590612f3f57506001600683015460ff166002811115612f3d57612f3d614548565b145b8015612f4f575060008360800135115b15612f5f57608083013560078301555b600b82015415801590612f76575060008360200135115b15612f86576020830135600b8301555b601282015415801590612f995750823515155b15612fa657823560128301555b600c820154151580612fbb5750600e82015415155b8015612fe457506001600f830154610100900460ff166002811115612fe257612fe2614548565b145b1561301f5761010083013515806130015750612710836101000135115b1561301f5760405163378f7ea360e01b815260040160405180910390fd5b600c8201541515806130345750600e82015415155b801561305d57506002600f830154610100900460ff16600281111561305b5761305b614548565b145b801561306c5750600482015415155b801561308057506004820154610100840135115b1561309e576040516309e7941360e41b815260040160405180910390fd5b600e8201541515806130b35750600c82015415155b80156130c457506000836101000135115b156130d55761010083013560108301555b60188201541515806130ea5750601582015415155b8015613113575060016016830154610100900460ff16600281111561311157613111614548565b145b1561314e5761012083013515806131305750612710836101200135115b1561314e576040516315cb6b0b60e11b815260040160405180910390fd5b60188201541515806131635750601582015415155b801561318c575060026016830154610100900460ff16600281111561318a5761318a614548565b145b801561319b5750600282015415155b80156131af57506002820154610120840135115b156131cd576040516309e7941360e41b815260040160405180910390fd5b60008361024001351180156131fb57506002600683015460ff1660028111156131f8576131f8614548565b14155b1561321957604051632ecab07960e11b815260040160405180910390fd5b600083610260013511801561324757506002601183015460ff16600281111561324457613244614548565b14155b156132655760405163018f017560e21b815260040160405180910390fd5b6102408301351561327c5761024083013560098301555b610260830135156132935761026083013560148301555b60158201541515806132a85750601882015415155b80156132b957506000836101200135115b156132ca5761012083013560178301555b600c820154158015906133285750600c82015460c08401351415806133285750600d82015460ff16600281111561330357613303614548565b613314610100850160e08601614c87565b600281111561332557613325614548565b14155b156133955760c0830135600c830155600061334a610100850160e08601614c87565b600281111561335b5761335b614548565b1461339557613371610100840160e08501614c87565b600d8301805460ff1916600183600281111561338f5761338f614548565b02179055505b6018820154158015906133f5575060188201546101408401351415806133f55750601982015460ff1660028111156133cf576133cf614548565b6133e161018085016101608601614c87565b60028111156133f2576133f2614548565b14155b156134b957610140830135156134115761014083013560188301555b601982015460ff16600281111561342a5761342a614548565b61343c61018085016101608601614c87565b600281111561344d5761344d614548565b1415801561347e5750600061346a61018085016101608601614c87565b600281111561347b5761347b614548565b14155b156134b95761349561018084016101608501614c87565b60198301805460ff191660018360028111156134b3576134b3614548565b02179055505b6134cb6101a084016101808501614ca4565b156134ee5760198201805461ff001981166101009182900460ff16159091021790555b6135006101c084016101a08501614ca4565b1561351a5760088201805460ff19811660ff909116151790555b61352c6101e084016101c08501614ca4565b1561354f5760088201805461ff001981166101009182900460ff16159091021790555b60a08301351561358b57601582015415801561356d57506018820154155b1561358b57604051638dd5089b60e01b815260040160405180910390fd5b60158201541515806135a05750601882015415155b156135dd5760a0830135158015906135bf5750601282015460a0840135105b156135dd5760405163473f955b60e11b815260040160405180910390fd5b60a0830135156135f25760a083013560138301555b6101008301351561362457601d82015460108301546127109161361491614ad9565b61361e9190614af0565b601b8301555b6101208301351561365657601c82015460178301546127109161364691614ad9565b6136509190614af0565b601a8301555b837fd214548c137217ee863b73f8586ae9c2b1ca0bde3e615e7ed7926dfcaf47dfee836001016040516136899190614cbf565b60405180910390a25050505050565b6040517f19457468657265756d205369676e6564204d6573736167653a0a3332000000006020820152603c8101829052600090605c01604051602081830303815290604052805190602001209050919050565b6000806000806136fa85613bca565b6040805160008152602081018083528b905260ff8316918101919091526060810184905260808101839052929550909350915060019060a0016020604051602081039080840390855afa158015613755573d6000803e3d6000fd5b5050506020604051035193505050505b92915050565b600081815260066020526040902080546001600160a01b038481169116146137a657604051630332420960e01b815260040160405180910390fd5b6001602582015460ff1660028111156137c1576137c1614548565b036137df576040516354e3762560e01b815260040160405180910390fd5b60258101805460ff19166001908117909155810154600090613809906001600160a01b0316613c42565b6003830154909150600090613826906001600160a01b0316613c42565b604080518481526020810183905291925085917f8b59944fefbac177fb9b4127d4d37da2d50b72e4d47b82e54a81945b166c62cd9101613689565b60095460009081908190819061010090046001600160a01b0316801561394357600080826001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a060405180830381865afa1580156138c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906138e69190614ece565b50919450925050821590508061390e5760405162032b3d60e81b815260040160405180910390fd5b600061391a8342614b12565b9050610e10811161393e5760405163d15f73b560e01b815260040160405180910390fd5b505050505b6001600160a01b03878116600090815260078401602052604090205416158061398657506001600160a01b03868116600090815260078401602052604090205416155b156139a457604051637d53846960e11b815260040160405180910390fd5b6001600160a01b038088166000908152600784016020526040808220548151633fabe5a360e21b81529151929384938493929091169163feaf968c9160048083019260a09291908290030181865afa158015613a04573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613a289190614ece565b506001600160a01b03808e16600090815260078b016020526040808220548151633fabe5a360e21b81529151979a509598509296509485948594509091169163feaf968c9160048083019260a09291908290030181865afa158015613a91573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613ab59190614ece565b50935050925092508460001480613aca575081155b15613ae75760405162bfc92160e01b815260040160405180910390fd5b600a880154613af68542614b12565b1180613b0e5750600a880154613b0c8242614b12565b115b15613b2c57604051632d07c67360e01b815260040160405180910390fd5b60008c6001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015613b6c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613b909190614b25565b60ff16905082613ba182600a614f1e565b613bab9088614ad9565b613bb59190614af0565b9e969d50929b50949950505050505050505050565b60008060008351604114613c245760405162461bcd60e51b815260206004820152601860248201527f696e76616c6964207369676e6174757265206c656e6774680000000000000000604482015260640160405180910390fd5b50505060208101516040820151606090920151909260009190911a90565b6001600160a01b038181166000908152600760205260408120549091829116613c7e57604051637d53846960e11b815260040160405180910390fd5b6001600160a01b038084166000908152600783016020526040808220548151633fabe5a360e21b815291519293169163feaf968c9160048082019260a0929091908290030181865afa158015613cd8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613cfc9190614ece565b50505091505080600003613d225760405162bfc92160e01b815260040160405180910390fd5b9392505050565b60405180610200016040528060006001600160a01b03168152602001613d4d613de9565b815260200160008152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160501b0316815260200160006001600160501b0316815260200160006001600160501b0316815260200160006001600160501b0316815260200160008152602001600081526020016000815260200160006002811115613de457613de4614548565b905290565b604080516103e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101829052610100810182905261012081018290526101408101829052610160810182905261018081018290526101a081018290526101c081018290526101e08101829052610200810182905261022081018290529061024082019081526020016000815260200160008152602001600081526020016000815260200160006004811115613eb457613eb4614548565b815260200160008152602001600081526020016000815260200160006002811115613ee157613ee1614548565b81526000602082018190526040820181905260609091015290565b634e487b7160e01b600052604160045260246000fd5b6040516103e0810167ffffffffffffffff81118282101715613f3657613f36613efc565b60405290565b604051610100810167ffffffffffffffff81118282101715613f3657613f36613efc565b604051601f8201601f1916810167ffffffffffffffff81118282101715613f8957613f89613efc565b604052919050565b80356001600160a01b0381168114613fa857600080fd5b919050565b600381106101ac57600080fd5b8035613fa881613fad565b80358015158114613fa857600080fd5b803560028110613fa857600080fd5b803560058110613fa857600080fd5b60006103e0828403121561400657600080fd5b61400e613f12565b905061401982613f91565b81526020820135602082015261403160408301613f91565b6040820152606082013560608201526080820135608082015261405660a08301613fba565b60a082015260c082013560c082015261407160e08301613fc5565b60e0820152610100614084818401613fc5565b9082015261012082810135908201526101406140a1818401613fd5565b90820152610160828101359082015261018080830135908201526101a06140c9818401613fba565b908201526101c082810135908201526101e06140e6818401613fe4565b908201526102006140f8838201613fba565b908201526102208281013590820152610240614115818401613fba565b90820152610260828101359082015261028080830135908201526102a080830135908201526102c080830135908201526102e0614153818401613fe4565b90820152610300614165838201613fba565b908201526103208281013590820152610340808301359082015261036061418d818401613fba565b9082015261038061419f838201613fc5565b908201526103a06141b1838201613fc5565b908201526103c06141c3838201613fc5565b9082015292915050565b60006103e082840312156141e057600080fd5b613d228383613ff3565b600061028082840312156141fd57600080fd5b50919050565b6000806102a0838503121561421757600080fd5b8235915061422884602085016141ea565b90509250929050565b600082601f83011261424257600080fd5b813567ffffffffffffffff81111561425c5761425c613efc565b61426f601f8201601f1916602001613f60565b81815284602083860101111561428457600080fd5b816020850160208301376000918101602001919091529392505050565b600080600080608085870312156142b757600080fd5b8435935060208501359250604085013567ffffffffffffffff8111156142dc57600080fd5b6142e887828801614231565b9250506142f760608601613f91565b905092959194509250565b60ff811681146101ac57600080fd5b6000806000806000610460868803121561432a57600080fd5b853567ffffffffffffffff8082111561434257600080fd5b818801915088601f83011261435657600080fd5b813560208282111561436a5761436a613efc565b614378818360051b01613f60565b82815260089290921b8401810191818101908c84111561439757600080fd5b948201945b8386101561443657610100868e0312156143b65760008081fd5b6143be613f3c565b6143c787613f91565b81526143d4848801613f91565b8482015260406143e5818901613f91565b90820152606087810135908201526080808801359082015260a08088013561440c81614302565b9082015260c0878101359082015260e080880135908201528252610100909501949082019061439c565b995061444690508b8b8301613ff3565b975050506144576104008901613f91565b9450610420880135935061044088013591508082111561447657600080fd5b5061448388828901614231565b9150509295509295909350565b6000806000606084860312156144a557600080fd5b83359250602084013591506144bc60408501613f91565b90509250925092565b600080600080600061030086880312156144de57600080fd5b853594506144ef87602088016141ea565b93506144fe6102a08701613f91565b92506102c086013591506102e086013567ffffffffffffffff81111561452357600080fd5b61448388828901614231565b60006020828403121561454157600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6003811061456e5761456e614548565b9052565b6002811061456e5761456e614548565b6005811061456e5761456e614548565b80516001600160a01b031682526020810151602083015260408101516145c360408401826001600160a01b03169052565b50606081015160608301526080810151608083015260a08101516145ea60a084018261455e565b5060c081015160c083015260e081015161460860e084018215159052565b506101008181015115159083015261012080820151908301526101408082015161463482850182614572565b5050610160818101519083015261018080820151908301526101a08082015161465f8285018261455e565b50506101c081810151908301526101e08082015161467f82850182614582565b5050610200808201516146948285018261455e565b50506102208181015190830152610240808201516146b48285018261455e565b5050610260818101519083015261028080820151908301526102a080820151908301526102c080820151908301526102e0808201516146f582850182614582565b50506103008082015161470a8285018261455e565b505061032081810151908301526103408082015190830152610360808201516147358285018261455e565b5050610380818101511515908301526103a0808201511515908301526103c080820151801515828501526102af565b81516001600160a01b031681526105c0810160208301516147886020840182614592565b5060408301516104008301526060830151610420830152608083015161044083015260a083015161046083015260c083015161048083015260e08301516104a08301526101008301516001600160501b039081166104c084015261012084015181166104e08401526101408401518116610500840152610160840151166105208301526101808301516105408301526101a08301516105608301526101c08301516105808301526101e08301516148436105a084018261455e565b5092915050565b6000806000610420848603121561486057600080fd5b61486a8585613ff3565b92506103e084013591506144bc6104008501613f91565b6000806000806102e0858703121561489857600080fd5b843593506148a986602087016141ea565b92506102a085013591506142f76102c08601613f91565b634e487b7160e01b600052601160045260246000fd5b80820180821115613765576137656148c0565b634e487b7160e01b600052603260045260246000fd5b600060018201614911576149116148c0565b5060010190565b6001600160a01b038516815260208101849052610440810161493d6040830185614592565b8261042083015295945050505050565b60006103008201905060018060a01b03871682528560208301528460408301528335606083015260208401356080830152604084013560a0830152606084013560c0830152608084013560e083015261010060a08501358184015261012060c0860135818501526149c060e08701613fba565b6101406149cf8187018361455e565b61016091508388013582870152610180935082880135848701526101a09250808801358387015250614a02818801613fba565b90506101c0614a138187018361455e565b614a1e848901613fc5565b93506101e09150614a328287018515159052565b614a3d838901613fc5565b93506102009250614a518387018515159052565b614a5c818901613fc5565b935050610220614a6f8187018515159052565b61024093508188013584870152614a87838901613fc5565b92506102609150614a9b8287018415159052565b614aa6818901613fc5565b925050614ab861028086018315159052565b918601356102a085015250909301356102c08201526102e001529392505050565b8082028115828204841417613765576137656148c0565b600082614b0d57634e487b7160e01b600052601260045260246000fd5b500490565b81810381811115613765576137656148c0565b600060208284031215614b3757600080fd5b8151613d2281614302565b600181815b80851115614b7d578160001904821115614b6357614b636148c0565b80851615614b7057918102915b93841c9390800290614b47565b509250929050565b600082614b9457506001613765565b81614ba157506000613765565b8160018114614bb75760028114614bc157614bdd565b6001915050613765565b60ff841115614bd257614bd26148c0565b50506001821b613765565b5060208310610133831016604e8410600b8410161715614c00575081810a613765565b614c0a8383614b42565b8060001904821115614c1e57614c1e6148c0565b029392505050565b6000613d2260ff841683614b85565b6001600160a01b03871681526104808101614c536020830188614592565b6001600160501b03808716610400840152808616610420840152508361044083015282610460830152979650505050505050565b600060208284031215614c9957600080fd5b8135613d2281613fad565b600060208284031215614cb657600080fd5b613d2282613fc5565b81546001600160a01b031681526103e081016001830154602083015260028301546001600160a01b031660408301526003830154606083015260048301546080830152600583015460ff16614d1760a084018261455e565b50600683015460c0830152600783015460ff808216151560e0850152614d476101008501828460081c1615159052565b6008850154610120850152600985015460ff169150614d6a610140850183614572565b600a850154610160850152600b850154610180850152600c85015460ff169150614d986101a085018361455e565b600d8501546101c0850152600e8501549150614dba6101e08501828416614582565b614dcd6102008501828460081c1661455e565b600f850154610220850152601085015460ff169150614df061024085018361455e565b6011850154610260850152601285015461028085015260138501546102a085015260148501546102c085015260158501549150614e336102e08501828416614582565b614e466103008501828460081c1661455e565b6016850154610320850152601785015461034085015260188501549150614e73610360850182841661455e565b614e876103808501828460081c1615159052565b614e9b6103a08501828460101c1615159052565b614eaf6103c08501828460181c1615159052565b505092915050565b80516001600160501b0381168114613fa857600080fd5b600080600080600060a08688031215614ee657600080fd5b614eef86614eb7565b9450602086015193506040860151925060608601519150614f1260808701614eb7565b90509295509295909350565b6000613d228383614b8556fea26469706673582212208961faf2c36d575ac69f2ffbe80be51e7a1f6b41a57caa5ec4cf60c016c37dab64736f6c63430008140033",
  "devdoc": {
    "details": "StrategyFacet is one of the facets of the system, dedicated to strategy management.",
    "events": {
      "StrategyCancelled(uint256,uint256,uint256)": {
        "params": {
          "investTokenPrice": "The price of the invest token in USD.",
          "stableTokenPrice": "The price of the stable token in USD.",
          "strategyId": "The unique ID of the cancelled strategy."
        }
      },
      "StrategyCreated(uint256,address,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint80,uint80,uint256,uint256)": {
        "params": {
          "budget": "total budget of the user in the stable token",
          "investRoundId": "Round ID for the invest token price when the strategy is created.",
          "parameter": "The strategy parameter including settings for buying and selling.",
          "price": "price of the invest token w.r.t. the stable when strategy was created",
          "stableRoundId": "Round ID for the stable token price when the strategy is created.",
          "strategyId": "The unique ID of the strategy.",
          "user": "address of the user whose  for whose strategy is created"
        }
      },
      "StrategyUpdated(uint256,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))": {
        "params": {
          "strategyId": "The unique ID of the strategy.",
          "updateStruct": "updated parameters of the strategy"
        }
      }
    },
    "kind": "dev",
    "methods": {
      "cancelStrategy(uint256)": {
        "details": "This function allows users to cancel a trade execution strategy based on its unique ID.      When cancelled, the strategy's status is updated to \"CANCELLED.\"",
        "params": {
          "id": "The unique ID of the strategy to cancel."
        }
      },
      "cancelStrategyOnBehalf(uint256,uint256,bytes,address)": {
        "details": "This function allows users to cancel a trade execution strategy based on its unique ID.      When cancelled, the strategy's status is updated to \"CANCELLED.\"",
        "params": {
          "id": "The unique ID of the strategy to cancel."
        }
      },
      "createStrategy((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))": {
        "details": "This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.      If the parameters do not meet the criteria, an error is thrown.",
        "params": {
          "_parameter": "The strategy parameters defining the behavior and conditions of the strategy."
        }
      },
      "createStrategyOnBehalf((address,address,address,uint256,uint256,uint8,bytes32,bytes32)[],(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),address,uint256,bytes)": {
        "details": "This function validates the input parameters to ensure they satisfy the criteria for creating a strategy.      If the parameters are valid, a new strategy is created and an event is emitted to indicate the successful creation.      If the parameters do not meet the criteria, an error is thrown.",
        "params": {
          "_parameter": "The strategy parameters defining the behavior and conditions of the strategy.",
          "account": "The address of the user who created the strategy.",
          "nonce": "The nonce of the user who created the strategy.",
          "permits": "The array of `Permit` structs containing the parameters for the permit function.",
          "signature": "The signature of the user who created the strategy."
        }
      },
      "getMessageHashToCancel(uint256,uint256,address)": {
        "details": "This function returns the message hash that must be signed by the user in order to cancel a strategy on behalf of another user.",
        "params": {
          "account": "The address of the user who created the strategy.",
          "id": "The strategy id",
          "nonce": "The nonce of the user who created the strategy."
        },
        "returns": {
          "_0": "The message hash for the given strategy."
        }
      },
      "getMessageHashToCreate((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint256,address)": {
        "details": "This function returns the message hash that must be signed by the user in order to create a strategy on behalf of another user.",
        "params": {
          "_parameter": "The strategy parameters defining the behavior and conditions of the strategy.",
          "account": "The address of the user who created the strategy.",
          "nonce": "The nonce of the user who created the strategy."
        },
        "returns": {
          "_0": "The message hash for the given strategy."
        }
      },
      "getMessageHashToUpdate(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),uint256,address)": {
        "details": "This function returns the message hash that must be signed by the user in order to update a strategy on behalf of another user.",
        "params": {
          "account": "The address of the user who created the strategy.",
          "id": "The strategy id",
          "nonce": "The nonce of the user who created the strategy.",
          "updateStruct": "updated parameters of the strategy"
        },
        "returns": {
          "_0": "The message hash for the given strategy."
        }
      },
      "getStrategy(uint256)": {
        "details": "This function allows users to query and retrieve information about a trade execution strategy      based on its unique ID.",
        "params": {
          "id": "The unique ID of the strategy to retrieve."
        },
        "returns": {
          "_0": "A `Strategy` struct containing details of the specified strategy."
        }
      },
      "nextStrategyId()": {
        "details": "This function returns the unique ID that will be assigned to the next created strategy.",
        "returns": {
          "_0": "The next available strategy ID."
        }
      },
      "updateStrategy(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256))": {
        "details": "Update an existing strategy with new parameters.",
        "params": {
          "strategyId": "The unique identifier of the strategy to update.",
          "updateStruct": "A struct containing the updated parameters for the strategy."
        }
      },
      "updateStrategyOnBehalf(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),address,uint256,bytes)": {
        "details": "Update an existing strategy with new parameters on behalf of another user.",
        "params": {
          "account": "The address of the user who created the strategy.",
          "nonce": "The nonce of the user who created the strategy.",
          "signature": "The signature of the user who created the strategy.",
          "strategyId": "The unique identifier of the strategy to update.",
          "updateStruct": "A struct containing the updated parameters for the strategy."
        }
      }
    },
    "title": "StrategyFacet",
    "version": 1
  },
  "userdoc": {
    "events": {
      "StrategyCancelled(uint256,uint256,uint256)": {
        "notice": "Emitted when a trade execution strategy is cancelled."
      },
      "StrategyCreated(uint256,address,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint80,uint80,uint256,uint256)": {
        "notice": "Emitted when a new trading strategy is created."
      },
      "StrategyUpdated(uint256,(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))": {
        "notice": "Emitted when a strategy is updated."
      }
    },
    "kind": "user",
    "methods": {
      "cancelStrategy(uint256)": {
        "notice": "Cancel a trade execution strategy."
      },
      "cancelStrategyOnBehalf(uint256,uint256,bytes,address)": {
        "notice": "Cancel a trade execution strategy on behalf of another user."
      },
      "createStrategy((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool))": {
        "notice": "Create a new trade execution strategy based on the provided parameters."
      },
      "createStrategyOnBehalf((address,address,address,uint256,uint256,uint8,bytes32,bytes32)[],(address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),address,uint256,bytes)": {
        "notice": "Create a new trade execution strategy based on the provided parameters on behalf of another user."
      },
      "getMessageHashToCancel(uint256,uint256,address)": {
        "notice": "Get the message hash for a given strategy to cancel."
      },
      "getMessageHashToCreate((address,uint256,address,uint256,uint256,uint8,uint256,bool,bool,uint256,uint8,uint256,uint256,uint8,uint256,uint8,uint8,uint256,uint8,uint256,uint256,uint256,uint256,uint8,uint8,uint256,uint256,uint8,bool,bool,bool),uint256,address)": {
        "notice": "Get the message hash for a given strategy to create it."
      },
      "getMessageHashToUpdate(uint256,(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint8,uint256,uint256,uint256,uint8,bool,bool,bool,uint256,bool,bool,uint256,uint256),uint256,address)": {
        "notice": "Get the message hash for a given strategy to update it."
      },
      "getStrategy(uint256)": {
        "notice": "Retrieve the details of a trade execution strategy."
      },
      "nextStrategyId()": {
        "notice": "Get the next available strategy ID."
      }
    },
    "notice": "This contract handles the creation, retrieval, and cancellation of strategies. Strategies define specific trade execution conditions and actions.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 6036,
        "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
        "label": "s",
        "offset": 0,
        "slot": "0",
        "type": "t_struct(AppStorage)1254_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_bytes4": {
        "encoding": "inplace",
        "label": "bytes4",
        "numberOfBytes": "4"
      },
      "t_enum(BuyLegType)1083": {
        "encoding": "inplace",
        "label": "enum BuyLegType",
        "numberOfBytes": "1"
      },
      "t_enum(DCA_UNIT)1100": {
        "encoding": "inplace",
        "label": "enum DCA_UNIT",
        "numberOfBytes": "1"
      },
      "t_enum(DIP_SPIKE)1095": {
        "encoding": "inplace",
        "label": "enum DIP_SPIKE",
        "numberOfBytes": "1"
      },
      "t_enum(FloorLegType)1079": {
        "encoding": "inplace",
        "label": "enum FloorLegType",
        "numberOfBytes": "1"
      },
      "t_enum(ReentrancyStatus)1069": {
        "encoding": "inplace",
        "label": "enum ReentrancyStatus",
        "numberOfBytes": "1"
      },
      "t_enum(SellLegType)1088": {
        "encoding": "inplace",
        "label": "enum SellLegType",
        "numberOfBytes": "1"
      },
      "t_enum(Status)1074": {
        "encoding": "inplace",
        "label": "enum Status",
        "numberOfBytes": "1"
      },
      "t_enum(TimeUnit)1105": {
        "encoding": "inplace",
        "label": "enum TimeUnit",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_address)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_bytes4,t_bool)": {
        "encoding": "mapping",
        "key": "t_bytes4",
        "label": "mapping(bytes4 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_bytes4,t_bytes32)": {
        "encoding": "mapping",
        "key": "t_bytes4",
        "label": "mapping(bytes4 => bytes32)",
        "numberOfBytes": "32",
        "value": "t_bytes32"
      },
      "t_mapping(t_uint256,t_bytes32)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bytes32)",
        "numberOfBytes": "32",
        "value": "t_bytes32"
      },
      "t_mapping(t_uint256,t_struct(Strategy)1214_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct Strategy)",
        "numberOfBytes": "32",
        "value": "t_struct(Strategy)1214_storage"
      },
      "t_struct(AppStorage)1254_storage": {
        "encoding": "inplace",
        "label": "struct AppStorage",
        "members": [
          {
            "astId": 1219,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "facets",
            "offset": 0,
            "slot": "0",
            "type": "t_mapping(t_bytes4,t_bytes32)"
          },
          {
            "astId": 1223,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "selectorSlots",
            "offset": 0,
            "slot": "1",
            "type": "t_mapping(t_uint256,t_bytes32)"
          },
          {
            "astId": 1225,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "selectorCount",
            "offset": 0,
            "slot": "2",
            "type": "t_uint16"
          },
          {
            "astId": 1229,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "supportedInterfaces",
            "offset": 0,
            "slot": "3",
            "type": "t_mapping(t_bytes4,t_bool)"
          },
          {
            "astId": 1231,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "owner",
            "offset": 0,
            "slot": "4",
            "type": "t_address"
          },
          {
            "astId": 1233,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "nextStrategyId",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 1238,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "strategies",
            "offset": 0,
            "slot": "6",
            "type": "t_mapping(t_uint256,t_struct(Strategy)1214_storage)"
          },
          {
            "astId": 1242,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "feeds",
            "offset": 0,
            "slot": "7",
            "type": "t_mapping(t_address,t_address)"
          },
          {
            "astId": 1246,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "nonces",
            "offset": 0,
            "slot": "8",
            "type": "t_mapping(t_address,t_uint256)"
          },
          {
            "astId": 1249,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "reentrancyStatus",
            "offset": 0,
            "slot": "9",
            "type": "t_enum(ReentrancyStatus)1069"
          },
          {
            "astId": 1251,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "sequencerUptimeFeed",
            "offset": 1,
            "slot": "9",
            "type": "t_address"
          },
          {
            "astId": 1253,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "maxStalePeriod",
            "offset": 0,
            "slot": "10",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "352"
      },
      "t_struct(Strategy)1214_storage": {
        "encoding": "inplace",
        "label": "struct Strategy",
        "members": [
          {
            "astId": 1181,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "user",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 1184,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "parameters",
            "offset": 0,
            "slot": "1",
            "type": "t_struct(StrategyParameters)1178_storage"
          },
          {
            "astId": 1186,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "sellPercentageAmount",
            "offset": 0,
            "slot": "26",
            "type": "t_uint256"
          },
          {
            "astId": 1188,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "buyPercentageAmount",
            "offset": 0,
            "slot": "27",
            "type": "t_uint256"
          },
          {
            "astId": 1190,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "sellPercentageTotalAmount",
            "offset": 0,
            "slot": "28",
            "type": "t_uint256"
          },
          {
            "astId": 1192,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "buyPercentageTotalAmount",
            "offset": 0,
            "slot": "29",
            "type": "t_uint256"
          },
          {
            "astId": 1194,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "sellTwapExecutedAt",
            "offset": 0,
            "slot": "30",
            "type": "t_uint256"
          },
          {
            "astId": 1196,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "buyTwapExecutedAt",
            "offset": 0,
            "slot": "31",
            "type": "t_uint256"
          },
          {
            "astId": 1198,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "investRoundIdForBTD",
            "offset": 0,
            "slot": "32",
            "type": "t_uint80"
          },
          {
            "astId": 1200,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "stableRoundIdForBTD",
            "offset": 10,
            "slot": "32",
            "type": "t_uint80"
          },
          {
            "astId": 1202,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "investRoundIdForSTR",
            "offset": 20,
            "slot": "32",
            "type": "t_uint80"
          },
          {
            "astId": 1204,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "stableRoundIdForSTR",
            "offset": 0,
            "slot": "33",
            "type": "t_uint80"
          },
          {
            "astId": 1206,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "investPrice",
            "offset": 0,
            "slot": "34",
            "type": "t_uint256"
          },
          {
            "astId": 1208,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "profit",
            "offset": 0,
            "slot": "35",
            "type": "t_uint256"
          },
          {
            "astId": 1210,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "budget",
            "offset": 0,
            "slot": "36",
            "type": "t_uint256"
          },
          {
            "astId": 1213,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "status",
            "offset": 0,
            "slot": "37",
            "type": "t_enum(Status)1074"
          }
        ],
        "numberOfBytes": "1216"
      },
      "t_struct(StrategyParameters)1178_storage": {
        "encoding": "inplace",
        "label": "struct StrategyParameters",
        "members": [
          {
            "astId": 1108,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_investToken",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 1110,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_investAmount",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 1112,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_stableToken",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 1114,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_stableAmount",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 1116,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_impact",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 1119,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_floorType",
            "offset": 0,
            "slot": "5",
            "type": "t_enum(FloorLegType)1079"
          },
          {
            "astId": 1121,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_floorValue",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          },
          {
            "astId": 1123,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_liquidateOnFloor",
            "offset": 0,
            "slot": "7",
            "type": "t_bool"
          },
          {
            "astId": 1125,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_cancelOnFloor",
            "offset": 1,
            "slot": "7",
            "type": "t_bool"
          },
          {
            "astId": 1127,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_minimumLoss",
            "offset": 0,
            "slot": "8",
            "type": "t_uint256"
          },
          {
            "astId": 1130,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyType",
            "offset": 0,
            "slot": "9",
            "type": "t_enum(BuyLegType)1083"
          },
          {
            "astId": 1132,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyValue",
            "offset": 0,
            "slot": "10",
            "type": "t_uint256"
          },
          {
            "astId": 1134,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyTwapTime",
            "offset": 0,
            "slot": "11",
            "type": "t_uint256"
          },
          {
            "astId": 1137,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyTwapTimeUnit",
            "offset": 0,
            "slot": "12",
            "type": "t_enum(TimeUnit)1105"
          },
          {
            "astId": 1139,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_btdValue",
            "offset": 0,
            "slot": "13",
            "type": "t_uint256"
          },
          {
            "astId": 1142,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_btdType",
            "offset": 0,
            "slot": "14",
            "type": "t_enum(DIP_SPIKE)1095"
          },
          {
            "astId": 1145,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyDCAUnit",
            "offset": 1,
            "slot": "14",
            "type": "t_enum(DCA_UNIT)1100"
          },
          {
            "astId": 1147,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_buyDCAValue",
            "offset": 0,
            "slot": "15",
            "type": "t_uint256"
          },
          {
            "astId": 1150,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellType",
            "offset": 0,
            "slot": "16",
            "type": "t_enum(SellLegType)1088"
          },
          {
            "astId": 1152,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellValue",
            "offset": 0,
            "slot": "17",
            "type": "t_uint256"
          },
          {
            "astId": 1154,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_highSellValue",
            "offset": 0,
            "slot": "18",
            "type": "t_uint256"
          },
          {
            "astId": 1156,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_minimumProfit",
            "offset": 0,
            "slot": "19",
            "type": "t_uint256"
          },
          {
            "astId": 1158,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_strValue",
            "offset": 0,
            "slot": "20",
            "type": "t_uint256"
          },
          {
            "astId": 1161,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_strType",
            "offset": 0,
            "slot": "21",
            "type": "t_enum(DIP_SPIKE)1095"
          },
          {
            "astId": 1164,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellDCAUnit",
            "offset": 1,
            "slot": "21",
            "type": "t_enum(DCA_UNIT)1100"
          },
          {
            "astId": 1166,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellDCAValue",
            "offset": 0,
            "slot": "22",
            "type": "t_uint256"
          },
          {
            "astId": 1168,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellTwapTime",
            "offset": 0,
            "slot": "23",
            "type": "t_uint256"
          },
          {
            "astId": 1171,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_sellTwapTimeUnit",
            "offset": 0,
            "slot": "24",
            "type": "t_enum(TimeUnit)1105"
          },
          {
            "astId": 1173,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_completeOnSell",
            "offset": 1,
            "slot": "24",
            "type": "t_bool"
          },
          {
            "astId": 1175,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_current_price_sell",
            "offset": 2,
            "slot": "24",
            "type": "t_bool"
          },
          {
            "astId": 1177,
            "contract": "contracts/facets/StrategyFacet.sol:StrategyFacet",
            "label": "_current_price_buy",
            "offset": 3,
            "slot": "24",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "800"
      },
      "t_uint16": {
        "encoding": "inplace",
        "label": "uint16",
        "numberOfBytes": "2"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint80": {
        "encoding": "inplace",
        "label": "uint80",
        "numberOfBytes": "10"
      }
    }
  }
}
